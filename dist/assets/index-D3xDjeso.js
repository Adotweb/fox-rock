(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const Jr=!1;var jt=Array.isArray,Ft=Array.from,Kr=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyDescriptors,Zr=Object.prototype,Xr=Array.prototype,ot=Object.getPrototypeOf;const lt=()=>{};function Gr(e){return e()}function Ot(e){for(var t=0;t<e.length;t++)e[t]()}const K=2,cr=4,Ue=8,$t=16,Z=32,He=64,It=128,me=256,at=512,W=1024,de=2048,Ye=4096,ne=8192,Me=16384,Qr=32768,Wt=65536,en=1<<17,tn=1<<19,_r=1<<20,ye=Symbol("$state"),rn=Symbol("legacy props"),nn=Symbol("");function dr(e){return e===this.v}function vr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Bt(e){return!vr(e,this.v)}function ln(e){throw new Error("effect_in_teardown")}function on(){throw new Error("effect_in_unowned_derived")}function an(e){throw new Error("effect_orphan")}function sn(){throw new Error("effect_update_depth_exceeded")}function un(e){throw new Error("props_invalid_value")}function fn(){throw new Error("state_descriptors_fixed")}function cn(){throw new Error("state_prototype_fixed")}function _n(){throw new Error("state_unsafe_local_read")}function dn(){throw new Error("state_unsafe_mutation")}let Ne=!1;function vn(){Ne=!0}function H(e){return{f:0,v:e,reactions:null,equals:dr,version:0}}function C(e){return hn(H(e))}function hr(e,t=!1){var l;const r=H(e);return t||(r.equals=Bt),Ne&&N!==null&&N.l!==null&&((l=N.l).s??(l.s=[])).push(r),r}function hn(e){return S!==null&&S.f&K&&(le===null?zn([e]):le.push(e)),e}function E(e,t){return S!==null&&yt()&&S.f&(K|$t)&&(le===null||!le.includes(e))&&dn(),pr(e,t)}function pr(e,t){return e.equals(t)||(e.v=t,e.version=Rr(),yr(e,de),yt()&&b!==null&&b.f&W&&!(b.f&Z)&&(L!==null&&L.includes(e)?(oe(b,de),wt(b)):_e===null?jn([e]):_e.push(e))),t}function yr(e,t){var r=e.reactions;if(r!==null)for(var l=yt(),n=r.length,i=0;i<n;i++){var o=r[i],_=o.f;_&de||!l&&o===b||(oe(o,t),_&(W|me)&&(_&K?yr(o,Ye):wt(o)))}}const pn=1,yn=2,mn=16,gn=1,wn=2,bn=4,kn=8,En=16,xn=1,Pn=2,B=Symbol();let Sn=!1;function T(e,t=null,r){if(typeof e!="object"||e===null||ye in e)return e;const l=ot(e);if(l!==Zr&&l!==Xr)return e;var n=new Map,i=jt(e),o=H(0);i&&n.set("length",H(e.length));var _;return new Proxy(e,{defineProperty(f,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&fn();var c=n.get(a);return c===void 0?(c=H(u.value),n.set(a,c)):E(c,T(u.value,_)),!0},deleteProperty(f,a){var u=n.get(a);if(u===void 0)a in f&&n.set(a,H(B));else{if(i&&typeof a=="string"){var c=n.get("length"),s=Number(a);Number.isInteger(s)&&s<c.v&&E(c,s)}E(u,B),Gt(o)}return!0},get(f,a,u){var h;if(a===ye)return e;var c=n.get(a),s=a in f;if(c===void 0&&(!s||(h=Se(f,a))!=null&&h.writable)&&(c=H(T(s?f[a]:B,_)),n.set(a,c)),c!==void 0){var d=v(c);return d===B?void 0:d}return Reflect.get(f,a,u)},getOwnPropertyDescriptor(f,a){var u=Reflect.getOwnPropertyDescriptor(f,a);if(u&&"value"in u){var c=n.get(a);c&&(u.value=v(c))}else if(u===void 0){var s=n.get(a),d=s==null?void 0:s.v;if(s!==void 0&&d!==B)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(f,a){var d;if(a===ye)return!0;var u=n.get(a),c=u!==void 0&&u.v!==B||Reflect.has(f,a);if(u!==void 0||b!==null&&(!c||(d=Se(f,a))!=null&&d.writable)){u===void 0&&(u=H(c?T(f[a],_):B),n.set(a,u));var s=v(u);if(s===B)return!1}return c},set(f,a,u,c){var g;var s=n.get(a),d=a in f;if(i&&a==="length")for(var h=u;h<s.v;h+=1){var y=n.get(h+"");y!==void 0?E(y,B):h in f&&(y=H(B),n.set(h+"",y))}s===void 0?(!d||(g=Se(f,a))!=null&&g.writable)&&(s=H(void 0),E(s,T(u,_)),n.set(a,s)):(d=s.v!==B,E(s,T(u,_)));var w=Reflect.getOwnPropertyDescriptor(f,a);if(w!=null&&w.set&&w.set.call(c,u),!d){if(i&&typeof a=="string"){var p=n.get("length"),m=Number(a);Number.isInteger(m)&&m>=p.v&&E(p,m+1)}Gt(o)}return!0},ownKeys(f){v(o);var a=Reflect.ownKeys(f).filter(s=>{var d=n.get(s);return d===void 0||d.v!==B});for(var[u,c]of n)c.v!==B&&!(u in f)&&a.push(u);return a},setPrototypeOf(){cn()}})}function Gt(e,t=1){E(e,e.v+t)}var Oe,mr,gr;function Tn(){if(Oe===void 0){Oe=window;var e=Element.prototype,t=Node.prototype;mr=Se(t,"firstChild").get,gr=Se(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function wr(e=""){return document.createTextNode(e)}function st(e){return mr.call(e)}function ht(e){return gr.call(e)}function M(e,t){return st(e)}function je(e,t){{var r=st(e);return r instanceof Comment&&r.data===""?ht(r):r}}function R(e,t=1,r=!1){let l=e;for(;t--;)l=ht(l);return l}function An(e){e.textContent=""}function ut(e){var t=K|de;b===null?t|=me:b.f|=_r;var r=S!==null&&S.f&K?S:null;const l={children:null,ctx:N,deps:null,equals:dr,f:t,fn:e,reactions:null,v:null,version:0,parent:r??b};return r!==null&&(r.children??(r.children=[])).push(l),l}function On(e){const t=ut(e);return t.equals=Bt,t}function br(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var l=t[r];l.f&K?Ut(l):ge(l)}}}function In(e){for(var t=e.parent;t!==null;){if(!(t.f&K))return t;t=t.parent}return null}function kr(e){var t,r=b;ie(In(e));try{br(e),t=Cr(e)}finally{ie(r)}return t}function Er(e){var t=kr(e),r=(xe||e.f&me)&&e.deps!==null?Ye:W;oe(e,r),e.equals(t)||(e.v=t,e.version=Rr())}function Ut(e){br(e),We(e,0),oe(e,Me),e.v=e.children=e.deps=e.ctx=e.reactions=null}function xr(e){b===null&&S===null&&an(),S!==null&&S.f&me&&on(),Jt&&ln()}function Mn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Re(e,t,r,l=!0){var n=(e&He)!==0,i=b,o={ctx:N,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|de,first:null,fn:t,last:null,next:null,parent:n?null:i,prev:null,teardown:null,transitions:null,version:0};if(r){var _=Te;try{Qt(!0),gt(o),o.f|=Qr}catch(u){throw ge(o),u}finally{Qt(_)}}else t!==null&&wt(o);var f=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&_r)===0;if(!f&&!n&&l&&(i!==null&&Mn(o,i),S!==null&&S.f&K)){var a=S;(a.children??(a.children=[])).push(o)}return o}function Nn(e){const t=Re(Ue,null,!1);return oe(t,W),t.teardown=e,t}function ft(e){xr();var t=b!==null&&(b.f&Z)!==0&&N!==null&&!N.m;if(t){var r=N;(r.e??(r.e=[])).push({fn:e,effect:b,reaction:S})}else{var l=Ht(e);return l}}function Rn(e){return xr(),pt(e)}function Cn(e){const t=Re(He,e,!0);return()=>{ge(t)}}function Ht(e){return Re(cr,e,!1)}function pt(e){return Re(Ue,e,!0)}function se(e){return Yt(e)}function Yt(e,t=0){return Re(Ue|$t|t,e,!0)}function $e(e,t=!0){return Re(Ue|Z,e,!0,t)}function Pr(e){var t=e.teardown;if(t!==null){const r=Jt,l=S;er(!0),ve(null);try{t.call(null)}finally{er(r),ve(l)}}}function Sr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Ut(t[r])}}function Tr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var l=r.next;ge(r,t),r=l}}function Ln(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Z||ge(t),t=r}}function ge(e,t=!0){var r=!1;if((t||e.f&tn)&&e.nodes_start!==null){for(var l=e.nodes_start,n=e.nodes_end;l!==null;){var i=l===n?null:ht(l);l.remove(),l=i}r=!0}Tr(e,t&&!r),Sr(e),We(e,0),oe(e,Me);var o=e.transitions;if(o!==null)for(const f of o)f.stop();Pr(e);var _=e.parent;_!==null&&_.first!==null&&Ar(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ar(e){var t=e.parent,r=e.prev,l=e.next;r!==null&&(r.next=l),l!==null&&(l.prev=r),t!==null&&(t.first===e&&(t.first=l),t.last===e&&(t.last=r))}function Mt(e,t){var r=[];Vt(e,r,!0),Or(r,()=>{ge(e),t&&t()})}function Or(e,t){var r=e.length;if(r>0){var l=()=>--r||t();for(var n of e)n.out(l)}else t()}function Vt(e,t,r){if(!(e.f&ne)){if(e.f^=ne,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var l=e.first;l!==null;){var n=l.next,i=(l.f&Wt)!==0||(l.f&Z)!==0;Vt(l,t,i?r:!1),l=n}}}function ct(e){Ir(e,!0)}function Ir(e,t){if(e.f&ne){Ve(e)&&gt(e),e.f^=ne;for(var r=e.first;r!==null;){var l=r.next,n=(r.f&Wt)!==0||(r.f&Z)!==0;Ir(r,n?t:!1),r=l}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Nt=!1,Rt=[];function qn(){Nt=!1;const e=Rt.slice();Rt=[],Ot(e)}function Mr(e){Nt||(Nt=!0,queueMicrotask(qn)),Rt.push(e)}function Dn(e){throw new Error("lifecycle_outside_component")}let it=!1,_t=!1,dt=null,Te=!1,Jt=!1;function Qt(e){Te=e}function er(e){Jt=e}let Ct=[],Fe=0;let S=null;function ve(e){S=e}let b=null;function ie(e){b=e}let le=null;function zn(e){le=e}let L=null,U=0,_e=null;function jn(e){_e=e}let Nr=0,xe=!1,N=null;function Rr(){return++Nr}function yt(){return!Ne||N!==null&&N.l===null}function Ve(e){var o,_;var t=e.f;if(t&de)return!0;if(t&Ye){var r=e.deps,l=(t&me)!==0;if(r!==null){var n;if(t&at){for(n=0;n<r.length;n++)((o=r[n]).reactions??(o.reactions=[])).push(e);e.f^=at}for(n=0;n<r.length;n++){var i=r[n];if(Ve(i)&&Er(i),l&&b!==null&&!xe&&!((_=i==null?void 0:i.reactions)!=null&&_.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}l||oe(e,W)}return!1}function Fn(e,t){for(var r=t;r!==null;){if(r.f&It)try{r.fn(e);return}catch{r.f^=It}r=r.parent}throw it=!1,e}function $n(e){return(e.f&Me)===0&&(e.parent===null||(e.parent.f&It)===0)}function mt(e,t,r,l){if(it){if(r===null&&(it=!1),$n(t))throw e;return}r!==null&&(it=!0);{Fn(e,t);return}}function Cr(e){var s;var t=L,r=U,l=_e,n=S,i=xe,o=le,_=N,f=e.f;L=null,U=0,_e=null,S=f&(Z|He)?null:e,xe=!Te&&(f&me)!==0,le=null,N=e.ctx;try{var a=(0,e.fn)(),u=e.deps;if(L!==null){var c;if(We(e,U),u!==null&&U>0)for(u.length=U+L.length,c=0;c<L.length;c++)u[U+c]=L[c];else e.deps=u=L;if(!xe)for(c=U;c<u.length;c++)((s=u[c]).reactions??(s.reactions=[])).push(e)}else u!==null&&U<u.length&&(We(e,U),u.length=U);return a}finally{L=t,U=r,_e=l,S=n,xe=i,le=o,N=_}}function Wn(e,t){let r=t.reactions;if(r!==null){var l=r.indexOf(e);if(l!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[l]=r[n],r.pop())}}r===null&&t.f&K&&(L===null||!L.includes(t))&&(oe(t,Ye),t.f&(me|at)||(t.f^=at),We(t,0))}function We(e,t){var r=e.deps;if(r!==null)for(var l=t;l<r.length;l++)Wn(e,r[l])}function gt(e){var t=e.f;if(!(t&Me)){oe(e,W);var r=b,l=N;b=e;try{t&$t?Ln(e):Tr(e),Sr(e),Pr(e);var n=Cr(e);e.teardown=typeof n=="function"?n:null,e.version=Nr}catch(i){mt(i,e,r,l||e.ctx)}finally{b=r}}}function Bn(){if(Fe>1e3){Fe=0;try{sn()}catch(e){if(dt!==null)mt(e,dt,null);else throw e}}Fe++}function Un(e){var t=e.length;if(t!==0){Bn();var r=Te;Te=!0;try{for(var l=0;l<t;l++){var n=e[l];n.f&W||(n.f^=W);var i=[];Lr(n,i),Hn(i)}}finally{Te=r}}}function Hn(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var l=e[r];if(!(l.f&(Me|ne)))try{Ve(l)&&(gt(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?Ar(l):l.fn=null))}catch(n){mt(n,l,null,l.ctx)}}}function Yn(){if(_t=!1,Fe>1001)return;const e=Ct;Ct=[],Un(e),_t||(Fe=0,dt=null)}function wt(e){_t||(_t=!0,queueMicrotask(Yn)),dt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(He|Z)){if(!(r&W))return;t.f^=W}}Ct.push(t)}function Lr(e,t){var r=e.first,l=[];e:for(;r!==null;){var n=r.f,i=(n&Z)!==0,o=i&&(n&W)!==0,_=r.next;if(!o&&!(n&ne))if(n&Ue){if(i)r.f^=W;else try{Ve(r)&&gt(r)}catch(c){mt(c,r,null,r.ctx)}var f=r.first;if(f!==null){r=f;continue}}else n&cr&&l.push(r);if(_===null){let c=r.parent;for(;c!==null;){if(e===c)break e;var a=c.next;if(a!==null){r=a;continue e}c=c.parent}}r=_}for(var u=0;u<l.length;u++)f=l[u],t.push(f),Lr(f,t)}function v(e){var u;var t=e.f,r=(t&K)!==0;if(r&&t&Me){var l=kr(e);return Ut(e),l}if(S!==null){le!==null&&le.includes(e)&&_n();var n=S.deps;L===null&&n!==null&&n[U]===e?U++:L===null?L=[e]:L.push(e),_e!==null&&b!==null&&b.f&W&&!(b.f&Z)&&_e.includes(e)&&(oe(b,de),wt(b))}else if(r&&e.deps===null)for(var i=e,o=i.parent,_=i;o!==null;)if(o.f&K){var f=o;_=f,o=f.parent}else{var a=o;(u=a.deriveds)!=null&&u.includes(_)||(a.deriveds??(a.deriveds=[])).push(_);break}return r&&(i=e,Ve(i)&&Er(i)),e.v}function he(e){const t=S;try{return S=null,e()}finally{S=t}}const Vn=~(de|Ye|W);function oe(e,t){e.f=e.f&Vn|t}function we(e,t=!1,r){N={p:N,c:null,e:null,m:!1,s:e,x:null,l:null},Ne&&!t&&(N.l={s:null,u:null,r1:[],r2:H(!1)})}function be(e){const t=N;if(t!==null){const o=t.e;if(o!==null){var r=b,l=S;t.e=null;try{for(var n=0;n<o.length;n++){var i=o[n];ie(i.effect),ve(i.reaction),Ht(i.fn)}}finally{ie(r),ve(l)}}N=t.p,t.m=!0}return{}}function Jn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ye in e)Lt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ye in r&&Lt(r)}}}function Lt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Lt(e[l],t)}catch{}const r=ot(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const l=fr(r);for(let n in l){const i=l[n].get;if(i)try{i.call(e)}catch{}}}}}let tr=!1;function Kn(){tr||(tr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function qr(e){var t=S,r=b;ve(null),ie(null);try{return e()}finally{ve(t),ie(r)}}function Dr(e,t,r,l=r){e.addEventListener(t,()=>qr(r));const n=e.__on_r;n?e.__on_r=()=>{n(),l(!0)}:e.__on_r=()=>l(!0),Kn()}const zr=new Set,qt=new Set;function Zn(e,t,r,l){function n(i){if(l.capture||ze.call(t,i),!i.cancelBubble)return qr(()=>r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Mr(()=>{t.addEventListener(e,n,l)}):t.addEventListener(e,n,l),n}function vt(e,t,r,l,n){var i={capture:l,passive:n},o=Zn(e,t,r,i);(t===document.body||t===window||t===document)&&Nn(()=>{t.removeEventListener(e,o,i)})}function bt(e){for(var t=0;t<e.length;t++)zr.add(e[t]);for(var r of qt)r(e)}function ze(e){var m;var t=this,r=t.ownerDocument,l=e.type,n=((m=e.composedPath)==null?void 0:m.call(e))||[],i=n[0]||e.target,o=0,_=e.__root;if(_){var f=n.indexOf(_);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var a=n.indexOf(t);if(a===-1)return;f<=a&&(o=f)}if(i=n[o]||e.target,i!==t){Kr(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=S,c=b;ve(null),ie(null);try{for(var s,d=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+l];if(y!==void 0&&!i.disabled)if(jt(y)){var[w,...p]=y;w.apply(i,[e,...p])}else y.call(i,e)}catch(g){s?d.push(g):s=g}if(e.cancelBubble||h===t||h===null)break;i=h}if(s){for(let g of d)queueMicrotask(()=>{throw g});throw s}}finally{e.__root=t,delete e.currentTarget,ve(u),ie(c)}}}function Xn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function rr(e,t){var r=b;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function z(e,t){var r=(t&xn)!==0,l=(t&Pn)!==0,n,i=!e.startsWith("<!>");return()=>{n===void 0&&(n=Xn(i?e:"<!>"+e),r||(n=st(n)));var o=l?document.importNode(n,!0):n.cloneNode(!0);if(r){var _=st(o),f=o.lastChild;rr(_,f)}else rr(o,o);return o}}function D(e,t){e!==null&&e.before(t)}const Gn=["touchstart","touchmove"];function Qn(e){return Gn.includes(e)}function Ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function el(e,t){return tl(e,t)}const ke=new Map;function tl(e,{target:t,anchor:r,props:l={},events:n,context:i,intro:o=!0}){Tn();var _=new Set,f=c=>{for(var s=0;s<c.length;s++){var d=c[s];if(!_.has(d)){_.add(d);var h=Qn(d);t.addEventListener(d,ze,{passive:h});var y=ke.get(d);y===void 0?(document.addEventListener(d,ze,{passive:h}),ke.set(d,1)):ke.set(d,y+1)}}};f(Ft(zr)),qt.add(f);var a=void 0,u=Cn(()=>{var c=r??t.appendChild(wr());return $e(()=>{if(i){we({});var s=N;s.c=i}n&&(l.$$events=n),a=e(c,l)||{},i&&be()}),()=>{var h;for(var s of _){t.removeEventListener(s,ze);var d=ke.get(s);--d===0?(document.removeEventListener(s,ze),ke.delete(s)):ke.set(s,d)}qt.delete(f),nr.delete(a),c!==r&&((h=c.parentNode)==null||h.removeChild(c))}});return nr.set(a,u),a}let nr=new WeakMap;function Pe(e,t,r=!1){var l=e,n=null,i=null,o=null,_=r?Wt:0,f=!1;const a=(c,s=!0)=>{f=!0,u(s,c)},u=(c,s)=>{o!==(o=c)&&(o?(n?ct(n):s&&(n=$e(()=>s(l))),i&&Mt(i,()=>{i=null})):(i?ct(i):s&&(i=$e(()=>s(l))),n&&Mt(n,()=>{n=null})))};Yt(()=>{f=!1,t(a),f||u(null,null)},_)}function Je(e,t){return t}function rl(e,t,r,l){for(var n=[],i=t.length,o=0;o<i;o++)Vt(t[o].e,n,!0);var _=i>0&&n.length===0&&r!==null;if(_){var f=r.parentNode;An(f),f.append(r),l.clear(),fe(e,t[0].prev,t[i-1].next)}Or(n,()=>{for(var a=0;a<i;a++){var u=t[a];_||(l.delete(u.k),fe(e,u.prev,u.next)),ge(u.e,!_)}})}function Ke(e,t,r,l,n,i=null){var o=e,_={flags:t,items:new Map,first:null};{var f=e;o=f.appendChild(wr())}var a=null,u=!1;Yt(()=>{var c=r(),s=jt(c)?c:c==null?[]:Ft(c),d=s.length;if(!(u&&d===0)){u=d===0;{var h=S;nl(s,_,o,n,t,(h.f&ne)!==0,l)}i!==null&&(d===0?a?ct(a):a=$e(()=>i(o)):a!==null&&Mt(a,()=>{a=null})),r()}})}function nl(e,t,r,l,n,i,o){var _=e.length,f=t.items,a=t.first,u=a,c,s=null,d=[],h=[],y,w,p,m;for(m=0;m<_;m+=1){if(y=e[m],w=o(y,m),p=f.get(w),p===void 0){var g=u?u.e.nodes_start:r;s=il(g,t,s,s===null?t.first:s.next,y,w,m,l,n),f.set(w,s),d=[],h=[],u=s.next;continue}if(ll(p,y,m),p.e.f&ne&&ct(p.e),p!==u){if(c!==void 0&&c.has(p)){if(d.length<h.length){var A=h[0],x;s=A.prev;var k=d[0],I=d[d.length-1];for(x=0;x<d.length;x+=1)lr(d[x],A,r);for(x=0;x<h.length;x+=1)c.delete(h[x]);fe(t,k.prev,I.next),fe(t,s,k),fe(t,I,A),u=A,s=I,m-=1,d=[],h=[]}else c.delete(p),lr(p,u,r),fe(t,p.prev,p.next),fe(t,p,s===null?t.first:s.next),fe(t,s,p),s=p;continue}for(d=[],h=[];u!==null&&u.k!==w;)(i||!(u.e.f&ne))&&(c??(c=new Set)).add(u),h.push(u),u=u.next;if(u===null)continue;p=u}d.push(p),s=p,u=p.next}if(u!==null||c!==void 0){for(var O=c===void 0?[]:Ft(c);u!==null;)(i||!(u.e.f&ne))&&O.push(u),u=u.next;var j=O.length;if(j>0){var F=_===0?r:null;rl(t,O,F,f)}}b.first=t.first&&t.first.e,b.last=s&&s.e}function ll(e,t,r,l){pr(e.v,t),e.i=r}function il(e,t,r,l,n,i,o,_,f){var a=(f&pn)!==0,u=(f&mn)===0,c=a?u?hr(n):H(n):n,s=f&yn?H(o):o,d={i:s,v:c,k:i,a:null,e:null,prev:r,next:l};try{return d.e=$e(()=>_(e,c,s),Sn),d.e.prev=r&&r.e,d.e.next=l&&l.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),l!==null&&(l.prev=d,l.e.prev=d.e),d}finally{}}function lr(e,t,r){for(var l=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==l;){var o=ht(i);n.before(i),i=o}}function fe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function te(e,t,r,l){var n=e.__attributes??(e.__attributes={});n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[nn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ol(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var ir=new Map;function ol(e){var t=ir.get(e.nodeName);if(t)return t;ir.set(e.nodeName,t=[]);for(var r,l=ot(e),n=Element.prototype;n!==l;){r=fr(l);for(var i in r)r[i].set&&t.push(i);l=ot(l)}return t}function Dt(e,t,r=t){var l=yt();Dr(e,"input",n=>{var i=n?e.defaultValue:e.value;i=Tt(e)?At(i):i,r(i),l&&i!==(i=t())&&(e.value=i??"")}),he(t)==null&&e.value&&r(Tt(e)?At(e.value):e.value),pt(()=>{var n=t();Tt(e)&&n===At(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function al(e,t,r=t){Dr(e,"change",l=>{var n=l?e.defaultChecked:e.checked;r(n)}),he(t)==null&&r(e.checked),pt(()=>{var l=t();e.checked=!!l})}function Tt(e){var t=e.type;return t==="number"||t==="range"}function At(e){return e===""?null:+e}function or(e,t){return e===t||(e==null?void 0:e[ye])===t}function ar(e={},t,r,l){return Ht(()=>{var n,i;return pt(()=>{n=i,i=[],he(()=>{e!==r(...i)&&(t(e,...i),n&&or(r(...n),e)&&t(null,...n))})}),()=>{Mr(()=>{i&&or(r(...i),e)&&t(null,...i)})}}),e}function sl(e=!1){const t=N,r=t.l.u;if(!r)return;let l=()=>Jn(t.s);if(e){let n=0,i={};const o=ut(()=>{let _=!1;const f=t.s;for(const a in f)f[a]!==i[a]&&(i[a]=f[a],_=!0);return _&&n++,n});l=()=>v(o)}r.b.length&&Rn(()=>{sr(t,l),Ot(r.b)}),ft(()=>{const n=he(()=>r.m.map(Gr));return()=>{for(const i of n)typeof i=="function"&&i()}}),r.a.length&&ft(()=>{sr(t,l),Ot(r.a)})}function sr(e,t){if(e.l.s)for(const r of e.l.s)v(r);t()}function ul(e,t,r){if(e==null)return t(void 0),lt;const l=he(()=>e.subscribe(t,r));return l.unsubscribe?()=>l.unsubscribe():l}let nt=!1;function fl(e){var t=nt;try{return nt=!1,[e(),nt]}finally{nt=t}}function ur(e){for(var t=b,r=b;t!==null&&!(t.f&(Z|He));)t=t.parent;try{return ie(t),e()}finally{ie(r)}}function zt(e,t,r,l){var I;var n=(r&gn)!==0,i=!Ne||(r&wn)!==0,o=(r&kn)!==0,_=(r&En)!==0,f=!1,a;o?[a,f]=fl(()=>e[t]):a=e[t];var u=ye in e||rn in e,c=((I=Se(e,t))==null?void 0:I.set)??(u&&o&&t in e?O=>e[t]=O:void 0),s=l,d=!0,h=!1,y=()=>(h=!0,d&&(d=!1,_?s=he(l):s=l),s);a===void 0&&l!==void 0&&(c&&i&&un(),a=y(),c&&c(a));var w;if(i)w=()=>{var O=e[t];return O===void 0?y():(d=!0,h=!1,O)};else{var p=ur(()=>(n?ut:On)(()=>e[t]));p.f|=en,w=()=>{var O=v(p);return O!==void 0&&(s=void 0),O===void 0?s:O}}if(!(r&bn))return w;if(c){var m=e.$$legacy;return function(O,j){return arguments.length>0?((!i||!j||m||f)&&c(j?w():O),O):w()}}var g=!1,A=!1,x=hr(a),k=ur(()=>ut(()=>{var O=w(),j=v(x);return g?(g=!1,A=!0,j):(A=!1,x.v=O)}));return n||(k.equals=Bt),function(O,j){if(arguments.length>0){const F=j?v(k):i&&o?T(O):O;return k.equals(F)||(g=!0,E(x,F),h&&s!==void 0&&(s=F),he(()=>v(k))),O}return v(k)}}function kt(e){N===null&&Dn(),Ne&&N.l!==null?cl(N).m.push(e):ft(()=>{const t=he(e);if(typeof t=="function")return t})}function cl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const _l="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_l);let Ie=800,Ze=800,ae=300,Be=300,dl="wss://localhost-njg5.onrender.com/";class vl{constructor(t,r,l){this.position=t;let n=[this.position[0]-r[0],this.position[1]-r[1]];this.rel_pos=[n[0]*Math.cos(l)+n[1]*Math.sin(l),-n[0]*Math.sin(l)+n[1]*Math.cos(l)],this.type="entity",this.color="black",this.depth=1/0,this.rel_pos[1]>0&&(this.depth=this.rel_pos[1])}render(t,r){}}class hl extends vl{render(t,r){this.color="green";let l=ae,n=Be;r.beginPath();let i=l/2+l/2*this.rel_pos[0]/10,o=n/2-n/2*this.rel_pos[1]/10;if(r.beginPath(),r.arc(i,o,5,0,2*Math.PI),r.fillStyle="blue",r.fill(),this.rel_pos[1]<0)return;let _=this.rel_pos[0]/this.rel_pos[1];t.beginPath(),t.arc(_*Ie/2+Ie/2,Ze/2,100*1/this.rel_pos[1],0,2*Math.PI),t.fillStyle=this.color,t.fill()}}let pl={player:hl};const Ee=[];function jr(e,t=lt){let r=null;const l=new Set;function n(_){if(vr(e,_)&&(e=_,r)){const f=!Ee.length;for(const a of l)a[1](),Ee.push(a,e);if(f){for(let a=0;a<Ee.length;a+=2)Ee[a][0](Ee[a+1]);Ee.length=0}}}function i(_){n(_(e))}function o(_,f=lt){const a=[_,f];return l.add(a),l.size===1&&(r=t(n,i)||lt),_(e),()=>{l.delete(a),l.size===0&&r&&(r(),r=null)}}return{set:n,update:i,subscribe:o}}function J(e){let t;return ul(e,r=>t=r)(),t}const V=jr({chunk_offset:[0,0],chunk_w:8,chunk_h:8,world_map:[[]],player_pos:[0,0],player_rot:0,chunk_pos:[0,0],chunk_coords:[0,0]}),ce=1;let Q=Ie,ee=Ze;function yl(e,t){let r=J(V).world_map;if(e>=0&&t>=0)try{return r[e][t]}catch{return}}function ml(e){e.length=0;let t=J(V).chunk_pos,r=J(V).chunk_offset;for(let n=-ce;n<=ce;n++)for(let i=-ce;i<=ce;i++){let o=[i+r[0]+t[0],n+r[1]+t[1]],f={info:yl(...o),position:[i+t[0],n+t[1]]};e.push(f)}let l=e.filter(n=>!!n.info);e.length=0,e.push(...l)}function gl(e,t,r){let l=J(V).chunk_w,n=J(V).chunk_h,i=J(V).chunk_pos;for(let o=0;o<e.length;o++){let _=e[o].info,f=e[o].position;for(let a=0;a<l;a++)for(let u=0;u<n;u++){let c="red",s=f[0]*l+a,d=f[1]*n+u,h=u*l+a,y=_[h];y==1&&(c="red");let w=s==-ce*l+l*i[0],p=s==2*ce*l-1+l*i[0],m=d==-ce*n+n*i[1],g=d==2*ce*n-1+n*i[1];if(w&&t.push({color:"blue",edge:[s,d,s,d+1]}),p&&t.push({color:"blue",edge:[s+1,d,s+1,d+1]}),m&&t.push({color:"blue",edge:[s,d,s+1,d]}),g&&t.push({color:"blue",edge:[s,d+1,s+1,d+1]}),y!=0){let A=[s,d,s+1,d],x=[s+1,d,s+1,d+1],k=[s+1,d+1,s,d+1],I=[s,d+1,s,d];r.push([[s,d],[s+1,d],[s+1,d+1],[s,d+1]]),t.push({color:c,edge:A}),t.push({color:c,edge:x}),t.push({color:c,edge:k}),t.push({color:c,edge:I})}}}}function Fr(e,t){let r=0,l=e.length-1;for(;r<=l;){const n=Math.floor((r+l)/2);if(e[n].depth===t.depth){r=n;break}else e[n].depth<=t.depth?r=n+1:l=n-1}e.splice(r,0,t)}function wl(e,t){let[r,l]=J(V).player_pos,n=J(V).player_rot,i=Math.cos(n),o=Math.sin(n);for(let _=0;_<e.length;_++){let{edge:f,color:a}=e[_],[u,c,s,d]=f;[u,c,s,d]=[u-r,c-l,s-r,d-l];let[h,y]=[u*i+c*o,u*-o+i*c],[w,p]=[s*i+d*o,s*-o+i*d];const m=.1;if(y<m&&p<m)continue;if(y<m||p<m){const x=y<m?(m-y)/(p-y):(m-p)/(y-p);y<m?(h=h+x*(w-h),y=m):(w=w+x*(h-w),p=m)}if(y<=0||p<=0)continue;let g=(y+p)/2;Fr(t,{data:[h,w,y,p],depth:g,color:a,type:"map"})}}function bl(e,t){e.forEach(r=>{Fr(t,{data:r,...r})})}function kl(e,t,r){r.reverse().forEach(({data:l,color:n,type:i,depth:o})=>{if(i=="entity"){l.render(e,t);return}let[_,f,a,u]=l;e.beginPath(),e.moveTo(_/a*Q/2+Q/2,ee/2+1/a/2*ee/2),e.lineTo(_/a*Q/2+Q/2,ee/2-1/a/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2-1/u/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2+1/u/2*ee/2),e.lineTo(_/a*Q/2+Q/2,ee/2+1/a/2*ee/2),e.fillStyle=n,e.fill(),e.stroke()})}function El(e,t){t.clearRect(0,0,ae,Be),e.forEach(r=>xl(t,r)),t.beginPath(),t.arc(ae/2,Be/2,5,0,2*Math.PI,!0),t.fillStyle="green",t.fill()}function xl(e,t){let r=J(V).player_rot,l=J(V).player_pos,n=Math.cos(r),i=Math.sin(r);t=t.map(([u,c])=>{let[s,d]=[u-l[0],c-l[1]],[h,y]=[s*n+d*i,s*-i+d*n];return[h/10*ae/2+ae/2,-y/10*ae/2+ae/2]});let[o,_,f,a]=t;e.beginPath(),e.moveTo(...o),e.lineTo(..._),e.lineTo(...f),e.lineTo(...a),e.lineTo(...o),e.fillStyle="red",e.fill(),e.stroke()}let Kt=jr(void 0),re=new Image;re.src="./public/pistol_sheet.png";re.onload=()=>{};function Pl(e){let t=500,r=t;if(!re.complete)return;let l=re.width,n=re.height;e.drawImage(re,0,0,l/2,n,Ie/2-t/4-20,Ze-r,t,r)}function Sl(e){let t=500,r=t;if(!re.complete)return;let l=re.width,n=re.height;e.drawImage(re,l/2,0,l/2,n,Ie/2-t/4-20,Ze-r,t,r)}var Tl=z("<div> </div>"),Al=z('<div class="game-container"><div class="top-bar svelte-zz7r8q"><div class="health-bar svelte-zz7r8q"><div class="health-bar-row svelte-zz7r8q"><div class="health-display"> </div></div></div> <div class="current-item"><div>Currently held item | Uses | Reloaded In</div> <div> </div></div></div> <canvas class="screen svelte-zz7r8q"></canvas></div> <canvas class="mini-map svelte-zz7r8q"></canvas> <div class="message-board svelte-zz7r8q"></div>',1);function Ol(e,t){we(t,!0);let r=t.decide_mode,l=new WebSocket(dl);kt(()=>{F=j.getContext("2d"),G=X.getContext("2d"),_(),l.onmessage=f});let n,i,o=C(T([])),_=()=>{n=P=>l.send(JSON.stringify({input:P,type:"update",group_id:J(Kt)}))},f=P=>{let $=JSON.parse(P.data);if($.type=="initialize"){k=$.world_map,i=$.player_id,x=$.chunk_offset,p=$.position,A=$.chunk_coords,g=$.chunk_pos,m=$.player_rot,V.update(q=>{let Y={};return Y.chunk_offset=x,Y.player_pos=p,Y.chunk_pos=g,Y.player_rot=m,Y.world_map=k,{...q,...Y}});return}if($.type=="update"){Le=$.entities.filter(ue=>ue.id!==i).map(ue=>new pl[ue.name](ue.position,p,m));let q=$.entities.filter(ue=>ue.id==i)[0];q.messages.length>0&&(v(o).push(q.messages),E(o,T(v(o).flat()))),E(c,T(q.health)),E(s,q.health/q.max_health*100),E(d,T(q.current_item));let Y=q.chunk_coords,Pt=q.position,Xt=q.rotation,St=q.chunk_pos;if(St[0]==g[0]&&St[1]==g[1]&&Pt[0]==p[0]&&Pt[1]==p[1]&&Y[0]==A[0]&&Y[1]==A[1]&&Xt==m)return;A=Y,p=Pt,g=St,m=Xt,V.update(ue=>({...ue,chunk_coords:A,chunk_pos:g,player_pos:p,player_rot:m})),Ge=[],Ce=[],ml(Xe),gl(Xe,Ge,Ce)}},a=[0,0],u=0,c=C(0),s=C(100),d=C("pistol"),h={space:0};function y(P){P.key=="w"&&(a[1]=-1),P.key=="a"&&(a[0]=-1),P.key=="s"&&(a[1]=1),P.key=="d"&&(a[0]=1),P.key=="ArrowLeft"&&(u=-1),P.key=="ArrowRight"&&(u=1),P.key=="Escape"&&r("menu"),P.key==" "&&(h.space=1),isNaN(Number(P.key))||(h.number=Number(P.key))}function w(P){P.key=="w"&&(a[1]=0),P.key=="a"&&(a[0]=0),P.key=="s"&&(a[1]=0),P.key=="d"&&(a[0]=0),P.key=="ArrowLeft"&&(u=0),P.key=="ArrowRight"&&(u=0),P.key==" "&&(h.space=0)}let p=[0,0],m=0,g=[0,0],A=[0,0],x=[0,0],k=Array.from({length:100},()=>new Array(100).fill(!1));k[x[0]][x[1]]=[1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1];let I=Ie,O=Ze,j,F,X,G,Xe=[],Ge=[],Ce=[],Le=[],pe=[],qe=setInterval(()=>{(l.readyState==WebSocket.CLOSED||l.readyState==WebSocket.CLOSING)&&clearInterval(qe),pe=[],!(!F||!G)&&(F.clearRect(0,0,I,O),G.clearRect(0,0,ae,Be),El(Ce,G),n({direction:a,rotation:u,keyboard:h}),wl(Ge,pe),bl(Le,pe),kl(F,G,pe),h.space?Sl(F):Pl(F))},1e3/60);var De=Al();vt("keyup",Oe,w),vt("keydown",Oe,y);var Qe=je(De),et=M(Qe),tt=M(et),Zt=M(tt),Wr=M(Zt),Br=M(Wr),Ur=R(tt,2),Hr=R(M(Ur),2),Yr=M(Hr);se(()=>Ae(Yr,`${v(d).name??""} | ${v(d).uses??""} | ${(Math.floor(v(d).reloaded_in/100)/10||0)??""}`));var xt=R(et,2);te(xt,"width",I),te(xt,"height",O),ar(xt,P=>j=P,()=>j);var rt=R(Qe,2);te(rt,"width",ae),te(rt,"height",Be),ar(rt,P=>X=P,()=>X);var Vr=R(rt,2);Ke(Vr,21,()=>v(o),Je,(P,$)=>{var q=Tl(),Y=M(q);se(()=>Ae(Y,`[${v($).time??""}] ${v($).text??""}`)),D(P,q)}),se(()=>{te(Zt,"style",`width:${v(s)??""}%;`),Ae(Br,`${v(c)??""} / ${v(c)/v(s)*100}`)}),D(e,De),be()}var Il=(e,t,r)=>t(v(r)),Ml=z("<a> </a>"),Nl=z('<div style="height:100vh;"><h1>List of active servers</h1> <ul></ul></div>');function Rl(e,t){we(t,!0);let r=t.decide_mode,l=C(T([]));kt(()=>{fetch("https://localhost-njg5.onrender.com/get_rooms").then(f=>f.json()).then(f=>{console.log(f.rooms),E(l,T(f.rooms))})});function n(f){Kt.set(f),r("play")}var i=Nl(),o=R(M(i),2);Ke(o,21,()=>v(l),Je,(f,a)=>{var u=Ml();u.__click=[Il,n,a];var c=M(u);se(()=>Ae(c,v(a))),D(f,u)}),D(e,i),be()}bt(["click"]);vn();function Cl(e,t){t()("play")}function Ll(e,t){t()("connect")}function ql(e,t){t()("create")}var Dl=z('<div class="popup svelte-x6bj3e"><div class="box svelte-x6bj3e"><button class="svelte-x6bj3e">Play default server (recommended)</button> <button class="svelte-x6bj3e">Play custom server</button> <button class="svelte-x6bj3e">create custom server</button></div></div>');function zl(e,t){we(t,!1);let r=zt(t,"decide_mode",8);sl();var l=Dl(),n=M(l),i=M(n);i.__click=[Cl,r];var o=R(i,2);o.__click=[Ll,r];var _=R(o,2);_.__click=[ql,r],D(e,l),be()}bt(["click"]);var jl=z('<div class="svelte-11ykyy7"></div>'),Fl=z('<div class="map-preview svelte-11ykyy7"></div>');function $l(e,t){we(t,!0);let r=t.preview,l=C(void 0),n=C(void 0);kt(()=>{let o=r.length;E(n,o*8),E(l,T(Array.from({length:v(n)**2},()=>1))),r.forEach((_,f)=>{_.forEach((a,u)=>{a.forEach((c,s)=>{let d=s%8,h=Math.floor(s/8),y=u*8,w=f*8,p=y+h,g=(w+d)*v(n)+(v(n)-p-1);v(l)[g]=c})})})});var i=Fl();Ke(i,21,()=>v(l),Je,(o,_)=>{var f=jl();se(()=>te(f,"style",`background-color:${(v(_)?"red":"white")??""}`)),D(o,f)}),se(()=>te(i,"style",`grid-template-rows:repeat(${v(n)??""}, 1fr);grid-template-columns:repeat(${v(n)??""}, 1fr)`)),D(e,i),be()}function $r(e){let t=Math.sqrt(e.length);if(Math.floor(t/8)!=t/8){alert("map size needs to be multiple of 8!");return}let r=Array.from({length:t/8},()=>Array.from({length:t/8},()=>new Array(64).fill(0)));return e.forEach(({cell_state:l,index:n})=>{let i=n%t,o=Math.floor(n/t),_=[Math.floor(i/8),Math.floor(o/8)],f=[i%8,o%8];l==1&&(r[_[1]][_[0]][f[0]*8+f[1]]=l)}),r}async function Wl(e,t,r,l,n,i){if(!v(t)){alert("please dont waste memory");return}console.log(r.received_maps);let o=$r(v(t)),f=(await fetch("https://api.jsonbin.io/v3/b",{method:"POST",headers:{"Content-Type":"application/json","X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"},body:JSON.stringify({map:o,map_name:v(l)||n,map_size:i()})}).then(u=>u.json())).metadata.id,a={maps:[...r.received_maps,{map:o,map_id:f,map_name:v(l)||n,map_size:i()}]};await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a",{method:"PUT",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6","Content-Type":"application/json"},body:JSON.stringify(a)}).then(u=>u.json()),alert(`your mape ${v(l)||n} was successfully saved as a community map`)}var Bl=(e,t,r)=>t(v(r).index),Ul=(e,t,r)=>t(v(r).index),Hl=z('<div class="svelte-1d524l3"></div>'),Yl=z('<div>Map Name? <input type="text"></div> <br> <div>Map Size <input type="number" step="8"></div> <br> <button style="font-size:1em">Save Map as <strong> </strong> <br>(not needed, you can play the map without saving)</button> <div class="map-creator-container svelte-1d524l3"></div>',1);function Vl(e,t){we(t,!0);let r=zt(t,"map_size",15,16),l=zt(t,"definitive_map",15),n=T(crypto.randomUUID()),i=C(void 0),o=C(T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))));ft(()=>{E(o,T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))))});let _=!1;function f(g){_&&a(g)}function a(g){v(o)[g].cell_state=+!v(o)[g].cell_state,l($r([...v(o)]))}var u=Yl();vt("mousedown",Oe,()=>_=!0),vt("mouseup",Oe,()=>_=!1);var c=je(u),s=R(M(c)),d=R(c,4),h=R(M(d)),y=R(d,4);y.__click=[Wl,o,t,i,n,r];var w=R(M(y)),p=M(w),m=R(y,2);Ke(m,21,()=>v(o),Je,(g,A)=>{var x=Hl();x.__mousedown=[Bl,a,A],x.__mouseover=[Ul,f,A],se(()=>te(x,"style",`background-color: ${(v(A).cell_state==1?"red":"white")??""}`)),D(g,x)}),se(()=>{Ae(p,v(i)||n),te(m,"style",`
	grid-template-rows: repeat(${r()??""}, 1fr);
	grid-template-columns: repeat(${r()??""}, 1fr)`)}),Dt(s,()=>v(i),g=>E(i,g)),Dt(h,r),D(e,u),be()}bt(["click","mousedown","mouseover"]);function Jl(e,t,r,l,n,i,o,_){if(v(t)==""){alert("please give the server an id");return}fetch("https://localhost-njg5.onrender.com/create_room",{method:"POST",body:JSON.stringify({maybe_id:v(t),map_info:v(r)||v(l)!==void 0?{map:v(n),map_size:v(i)/8}:void 0}),headers:{"content-type":"application/json"}}).then(f=>f.json()).then(f=>{f.success&&(f.group_id==v(t)?(alert("created server with id: "+f.group_id),E(o,T(f.group_id)),_()):(alert("unfortunately your serverid is taken! created server with id: "+f.group_id),E(o,T(f.group_id)),_()))})}var Kl=z('<div><h3> </h3> <div><!></div></div> <hr style="height:1px;background-color:black;">',1),Zl=z("<ul></ul> <br>",1),Xl=z("<div>Loading Community Maps</div>"),Gl=z("<hr> <h1>Community Pages</h1> <!>",1),Ql=z('<div class="container svelte-19f9sfu"><div class="server-name svelte-19f9sfu"><input type="text" placeholder="proposed server id?" class="svelte-19f9sfu"> <button class="svelte-19f9sfu">Create Server + Play</button></div> <div class="server-name svelte-19f9sfu"><div class="svelte-19f9sfu">Include own Map<input type="checkbox"></div></div> <!></div>');function ei(e,t){we(t,!0);let r=t.decide_mode,l=C(""),n=C(""),i=C(!1),o=C(8),_=C(void 0);function f(){Kt.set(v(l)),r("play")}let a=C(T([])),u=C(void 0);kt(async()=>{let k=await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a/latest",{method:"GET",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"}}).then(I=>I.json());E(a,T(k.record.maps))});function c(k){E(u,T(k));let I=v(a)[k];E(_,T(I.map)),E(o,T(I.map_size)),console.log(v(_),v(o))}var s=Ql(),d=M(s),h=M(d),y=R(h,2);y.__click=[Jl,n,i,u,_,o,l,f];var w=R(d,2),p=M(w),m=R(M(p)),g=R(w,2);{var A=k=>{Vl(k,{get received_maps(){return v(a)},set received_maps(I){E(a,T(I))},get map_size(){return v(o)},set map_size(I){E(o,T(I))},get definitive_map(){return v(_)},set definitive_map(I){E(_,T(I))}})},x=k=>{var I=Gl(),O=R(je(I),4);{var j=X=>{var G=Zl(),Xe=je(G);Ke(Xe,21,()=>v(a),Je,(Ce,Le,pe)=>{var Et=Kl(),qe=je(Et);qe.__click=()=>c(pe);var De=M(qe),Qe=M(De),et=R(De,2),tt=M(et);$l(tt,{get preview(){return v(Le).map}}),se(()=>{te(qe,"style",`background-color: ${(pe==v(u)?"red":"transparent")??""}`),Ae(Qe,v(Le).map_name)}),D(Ce,Et)}),D(X,G)},F=X=>{var G=Xl();D(X,G)};Pe(O,X=>{v(a).length>0?X(j):X(F,!1)})}D(k,I)};Pe(g,k=>{v(i)?k(A):k(x,!1)})}Dt(h,()=>v(n),k=>E(n,k)),al(m,()=>v(i),k=>E(i,k)),D(e,s),be()}bt(["click"]);var ti=z('<main style="display:flex;justify-content:center"><!> <!> <!> <!></main>');function ri(e){let t=C("menu");function r(s){E(t,T(s))}var l=ti(),n=M(l);{var i=s=>{zl(s,{decide_mode:r})};Pe(n,s=>{v(t)=="menu"&&s(i)})}var o=R(n,2);{var _=s=>{Rl(s,{decide_mode:r})};Pe(o,s=>{v(t)=="connect"&&s(_)})}var f=R(o,2);{var a=s=>{Ol(s,{decide_mode:r})};Pe(f,s=>{v(t)=="play"&&s(a)})}var u=R(f,2);{var c=s=>{ei(s,{decide_mode:r})};Pe(u,s=>{v(t)=="create"&&s(c)})}D(e,l)}el(ri,{target:document.getElementById("app")});
