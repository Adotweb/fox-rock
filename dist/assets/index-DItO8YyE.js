(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const Jr=!1;var Ft=Array.isArray,$t=Array.from,Zr=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,cr=Object.getOwnPropertyDescriptors,Xr=Object.prototype,Gr=Array.prototype,ot=Object.getPrototypeOf;const it=()=>{};function Qr(e){return e()}function Ot(e){for(var t=0;t<e.length;t++)e[t]()}const J=2,_r=4,Ue=8,jt=16,Z=32,He=64,Mt=128,me=256,at=512,W=1024,de=2048,Ye=4096,ne=8192,Ie=16384,en=32768,Wt=65536,tn=1<<17,rn=1<<19,dr=1<<20,ye=Symbol("$state"),nn=Symbol("legacy props"),ln=Symbol("");function vr(e){return e===this.v}function hr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Bt(e){return!hr(e,this.v)}function on(e){throw new Error("effect_in_teardown")}function an(){throw new Error("effect_in_unowned_derived")}function sn(e){throw new Error("effect_orphan")}function un(){throw new Error("effect_update_depth_exceeded")}function fn(e){throw new Error("props_invalid_value")}function cn(){throw new Error("state_descriptors_fixed")}function _n(){throw new Error("state_prototype_fixed")}function dn(){throw new Error("state_unsafe_local_read")}function vn(){throw new Error("state_unsafe_mutation")}let Ne=!1;function hn(){Ne=!0}function H(e){return{f:0,v:e,reactions:null,equals:vr,version:0}}function C(e){return pn(H(e))}function pr(e,t=!1){var i;const r=H(e);return t||(r.equals=Bt),Ne&&R!==null&&R.l!==null&&((i=R.l).s??(i.s=[])).push(r),r}function pn(e){return P!==null&&P.f&J&&(ie===null?Fn([e]):ie.push(e)),e}function E(e,t){return P!==null&&yt()&&P.f&(J|jt)&&(ie===null||!ie.includes(e))&&vn(),yr(e,t)}function yr(e,t){return e.equals(t)||(e.v=t,e.version=Cr(),mr(e,de),yt()&&b!==null&&b.f&W&&!(b.f&Z)&&(L!==null&&L.includes(e)?(oe(b,de),wt(b)):_e===null?$n([e]):_e.push(e))),t}function mr(e,t){var r=e.reactions;if(r!==null)for(var i=yt(),n=r.length,l=0;l<n;l++){var a=r[l],c=a.f;c&de||!i&&a===b||(oe(a,t),c&(W|me)&&(c&J?mr(a,Ye):wt(a)))}}const yn=1,mn=2,gn=16,wn=1,bn=2,kn=4,En=8,xn=16,Sn=1,Pn=2,B=Symbol();let Tn=!1;function T(e,t=null,r){if(typeof e!="object"||e===null||ye in e)return e;const i=ot(e);if(i!==Xr&&i!==Gr)return e;var n=new Map,l=Ft(e),a=H(0);l&&n.set("length",H(e.length));var c;return new Proxy(e,{defineProperty(f,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&cn();var _=n.get(o);return _===void 0?(_=H(u.value),n.set(o,_)):E(_,T(u.value,c)),!0},deleteProperty(f,o){var u=n.get(o);if(u===void 0)o in f&&n.set(o,H(B));else{if(l&&typeof o=="string"){var _=n.get("length"),s=Number(o);Number.isInteger(s)&&s<_.v&&E(_,s)}E(u,B),Qt(a)}return!0},get(f,o,u){var h;if(o===ye)return e;var _=n.get(o),s=o in f;if(_===void 0&&(!s||(h=Pe(f,o))!=null&&h.writable)&&(_=H(T(s?f[o]:B,c)),n.set(o,_)),_!==void 0){var d=v(_);return d===B?void 0:d}return Reflect.get(f,o,u)},getOwnPropertyDescriptor(f,o){var u=Reflect.getOwnPropertyDescriptor(f,o);if(u&&"value"in u){var _=n.get(o);_&&(u.value=v(_))}else if(u===void 0){var s=n.get(o),d=s==null?void 0:s.v;if(s!==void 0&&d!==B)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(f,o){var d;if(o===ye)return!0;var u=n.get(o),_=u!==void 0&&u.v!==B||Reflect.has(f,o);if(u!==void 0||b!==null&&(!_||(d=Pe(f,o))!=null&&d.writable)){u===void 0&&(u=H(_?T(f[o],c):B),n.set(o,u));var s=v(u);if(s===B)return!1}return _},set(f,o,u,_){var g;var s=n.get(o),d=o in f;if(l&&o==="length")for(var h=u;h<s.v;h+=1){var y=n.get(h+"");y!==void 0?E(y,B):h in f&&(y=H(B),n.set(h+"",y))}s===void 0?(!d||(g=Pe(f,o))!=null&&g.writable)&&(s=H(void 0),E(s,T(u,c)),n.set(o,s)):(d=s.v!==B,E(s,T(u,c)));var w=Reflect.getOwnPropertyDescriptor(f,o);if(w!=null&&w.set&&w.set.call(_,u),!d){if(l&&typeof o=="string"){var p=n.get("length"),m=Number(o);Number.isInteger(m)&&m>=p.v&&E(p,m+1)}Qt(a)}return!0},ownKeys(f){v(a);var o=Reflect.ownKeys(f).filter(s=>{var d=n.get(s);return d===void 0||d.v!==B});for(var[u,_]of n)_.v!==B&&!(u in f)&&o.push(u);return o},setPrototypeOf(){_n()}})}function Qt(e,t=1){E(e,e.v+t)}var Oe,gr,wr;function An(){if(Oe===void 0){Oe=window;var e=Element.prototype,t=Node.prototype;gr=Pe(t,"firstChild").get,wr=Pe(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function br(e=""){return document.createTextNode(e)}function st(e){return gr.call(e)}function ht(e){return wr.call(e)}function I(e,t){return st(e)}function Fe(e,t){{var r=st(e);return r instanceof Comment&&r.data===""?ht(r):r}}function N(e,t=1,r=!1){let i=e;for(;t--;)i=ht(i);return i}function On(e){e.textContent=""}function ut(e){var t=J|de;b===null?t|=me:b.f|=dr;var r=P!==null&&P.f&J?P:null;const i={children:null,ctx:R,deps:null,equals:vr,f:t,fn:e,reactions:null,v:null,version:0,parent:r??b};return r!==null&&(r.children??(r.children=[])).push(i),i}function Mn(e){const t=ut(e);return t.equals=Bt,t}function kr(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var i=t[r];i.f&J?Ut(i):ge(i)}}}function In(e){for(var t=e.parent;t!==null;){if(!(t.f&J))return t;t=t.parent}return null}function Er(e){var t,r=b;le(In(e));try{kr(e),t=Lr(e)}finally{le(r)}return t}function xr(e){var t=Er(e),r=(xe||e.f&me)&&e.deps!==null?Ye:W;oe(e,r),e.equals(t)||(e.v=t,e.version=Cr())}function Ut(e){kr(e),We(e,0),oe(e,Ie),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Sr(e){b===null&&P===null&&sn(),P!==null&&P.f&me&&an(),Kt&&on()}function Nn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Re(e,t,r,i=!0){var n=(e&He)!==0,l=b,a={ctx:R,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|de,first:null,fn:t,last:null,next:null,parent:n?null:l,prev:null,teardown:null,transitions:null,version:0};if(r){var c=Te;try{er(!0),gt(a),a.f|=en}catch(u){throw ge(a),u}finally{er(c)}}else t!==null&&wt(a);var f=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&dr)===0;if(!f&&!n&&i&&(l!==null&&Nn(a,l),P!==null&&P.f&J)){var o=P;(o.children??(o.children=[])).push(a)}return a}function Rn(e){const t=Re(Ue,null,!1);return oe(t,W),t.teardown=e,t}function ft(e){Sr();var t=b!==null&&(b.f&Z)!==0&&R!==null&&!R.m;if(t){var r=R;(r.e??(r.e=[])).push({fn:e,effect:b,reaction:P})}else{var i=Ht(e);return i}}function Cn(e){return Sr(),pt(e)}function Ln(e){const t=Re(He,e,!0);return()=>{ge(t)}}function Ht(e){return Re(_r,e,!1)}function pt(e){return Re(Ue,e,!0)}function se(e){return Yt(e)}function Yt(e,t=0){return Re(Ue|jt|t,e,!0)}function je(e,t=!0){return Re(Ue|Z,e,!0,t)}function Pr(e){var t=e.teardown;if(t!==null){const r=Kt,i=P;tr(!0),ve(null);try{t.call(null)}finally{tr(r),ve(i)}}}function Tr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Ut(t[r])}}function Ar(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var i=r.next;ge(r,t),r=i}}function qn(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Z||ge(t),t=r}}function ge(e,t=!0){var r=!1;if((t||e.f&rn)&&e.nodes_start!==null){for(var i=e.nodes_start,n=e.nodes_end;i!==null;){var l=i===n?null:ht(i);i.remove(),i=l}r=!0}Ar(e,t&&!r),Tr(e),We(e,0),oe(e,Ie);var a=e.transitions;if(a!==null)for(const f of a)f.stop();Pr(e);var c=e.parent;c!==null&&c.first!==null&&Or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Or(e){var t=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=r))}function It(e,t){var r=[];Vt(e,r,!0),Mr(r,()=>{ge(e),t&&t()})}function Mr(e,t){var r=e.length;if(r>0){var i=()=>--r||t();for(var n of e)n.out(i)}else t()}function Vt(e,t,r){if(!(e.f&ne)){if(e.f^=ne,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var i=e.first;i!==null;){var n=i.next,l=(i.f&Wt)!==0||(i.f&Z)!==0;Vt(i,t,l?r:!1),i=n}}}function ct(e){Ir(e,!0)}function Ir(e,t){if(e.f&ne){Ve(e)&&gt(e),e.f^=ne;for(var r=e.first;r!==null;){var i=r.next,n=(r.f&Wt)!==0||(r.f&Z)!==0;Ir(r,n?t:!1),r=i}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Nt=!1,Rt=[];function Dn(){Nt=!1;const e=Rt.slice();Rt=[],Ot(e)}function Nr(e){Nt||(Nt=!0,queueMicrotask(Dn)),Rt.push(e)}function zn(e){throw new Error("lifecycle_outside_component")}let lt=!1,_t=!1,dt=null,Te=!1,Kt=!1;function er(e){Te=e}function tr(e){Kt=e}let Ct=[],$e=0;let P=null;function ve(e){P=e}let b=null;function le(e){b=e}let ie=null;function Fn(e){ie=e}let L=null,U=0,_e=null;function $n(e){_e=e}let Rr=0,xe=!1,R=null;function Cr(){return++Rr}function yt(){return!Ne||R!==null&&R.l===null}function Ve(e){var a,c;var t=e.f;if(t&de)return!0;if(t&Ye){var r=e.deps,i=(t&me)!==0;if(r!==null){var n;if(t&at){for(n=0;n<r.length;n++)((a=r[n]).reactions??(a.reactions=[])).push(e);e.f^=at}for(n=0;n<r.length;n++){var l=r[n];if(Ve(l)&&xr(l),i&&b!==null&&!xe&&!((c=l==null?void 0:l.reactions)!=null&&c.includes(e))&&(l.reactions??(l.reactions=[])).push(e),l.version>e.version)return!0}}i||oe(e,W)}return!1}function jn(e,t){for(var r=t;r!==null;){if(r.f&Mt)try{r.fn(e);return}catch{r.f^=Mt}r=r.parent}throw lt=!1,e}function Wn(e){return(e.f&Ie)===0&&(e.parent===null||(e.parent.f&Mt)===0)}function mt(e,t,r,i){if(lt){if(r===null&&(lt=!1),Wn(t))throw e;return}r!==null&&(lt=!0);{jn(e,t);return}}function Lr(e){var s;var t=L,r=U,i=_e,n=P,l=xe,a=ie,c=R,f=e.f;L=null,U=0,_e=null,P=f&(Z|He)?null:e,xe=!Te&&(f&me)!==0,ie=null,R=e.ctx;try{var o=(0,e.fn)(),u=e.deps;if(L!==null){var _;if(We(e,U),u!==null&&U>0)for(u.length=U+L.length,_=0;_<L.length;_++)u[U+_]=L[_];else e.deps=u=L;if(!xe)for(_=U;_<u.length;_++)((s=u[_]).reactions??(s.reactions=[])).push(e)}else u!==null&&U<u.length&&(We(e,U),u.length=U);return o}finally{L=t,U=r,_e=i,P=n,xe=l,ie=a,R=c}}function Bn(e,t){let r=t.reactions;if(r!==null){var i=r.indexOf(e);if(i!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[i]=r[n],r.pop())}}r===null&&t.f&J&&(L===null||!L.includes(t))&&(oe(t,Ye),t.f&(me|at)||(t.f^=at),We(t,0))}function We(e,t){var r=e.deps;if(r!==null)for(var i=t;i<r.length;i++)Bn(e,r[i])}function gt(e){var t=e.f;if(!(t&Ie)){oe(e,W);var r=b,i=R;b=e;try{t&jt?qn(e):Ar(e),Tr(e),Pr(e);var n=Lr(e);e.teardown=typeof n=="function"?n:null,e.version=Rr}catch(l){mt(l,e,r,i||e.ctx)}finally{b=r}}}function Un(){if($e>1e3){$e=0;try{un()}catch(e){if(dt!==null)mt(e,dt,null);else throw e}}$e++}function Hn(e){var t=e.length;if(t!==0){Un();var r=Te;Te=!0;try{for(var i=0;i<t;i++){var n=e[i];n.f&W||(n.f^=W);var l=[];qr(n,l),Yn(l)}}finally{Te=r}}}function Yn(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var i=e[r];if(!(i.f&(Ie|ne)))try{Ve(i)&&(gt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Or(i):i.fn=null))}catch(n){mt(n,i,null,i.ctx)}}}function Vn(){if(_t=!1,$e>1001)return;const e=Ct;Ct=[],Hn(e),_t||($e=0,dt=null)}function wt(e){_t||(_t=!0,queueMicrotask(Vn)),dt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(He|Z)){if(!(r&W))return;t.f^=W}}Ct.push(t)}function qr(e,t){var r=e.first,i=[];e:for(;r!==null;){var n=r.f,l=(n&Z)!==0,a=l&&(n&W)!==0,c=r.next;if(!a&&!(n&ne))if(n&Ue){if(l)r.f^=W;else try{Ve(r)&&gt(r)}catch(_){mt(_,r,null,r.ctx)}var f=r.first;if(f!==null){r=f;continue}}else n&_r&&i.push(r);if(c===null){let _=r.parent;for(;_!==null;){if(e===_)break e;var o=_.next;if(o!==null){r=o;continue e}_=_.parent}}r=c}for(var u=0;u<i.length;u++)f=i[u],t.push(f),qr(f,t)}function v(e){var u;var t=e.f,r=(t&J)!==0;if(r&&t&Ie){var i=Er(e);return Ut(e),i}if(P!==null){ie!==null&&ie.includes(e)&&dn();var n=P.deps;L===null&&n!==null&&n[U]===e?U++:L===null?L=[e]:L.push(e),_e!==null&&b!==null&&b.f&W&&!(b.f&Z)&&_e.includes(e)&&(oe(b,de),wt(b))}else if(r&&e.deps===null)for(var l=e,a=l.parent,c=l;a!==null;)if(a.f&J){var f=a;c=f,a=f.parent}else{var o=a;(u=o.deriveds)!=null&&u.includes(c)||(o.deriveds??(o.deriveds=[])).push(c);break}return r&&(l=e,Ve(l)&&xr(l)),e.v}function he(e){const t=P;try{return P=null,e()}finally{P=t}}const Kn=~(de|Ye|W);function oe(e,t){e.f=e.f&Kn|t}function we(e,t=!1,r){R={p:R,c:null,e:null,m:!1,s:e,x:null,l:null},Ne&&!t&&(R.l={s:null,u:null,r1:[],r2:H(!1)})}function be(e){const t=R;if(t!==null){const a=t.e;if(a!==null){var r=b,i=P;t.e=null;try{for(var n=0;n<a.length;n++){var l=a[n];le(l.effect),ve(l.reaction),Ht(l.fn)}}finally{le(r),ve(i)}}R=t.p,t.m=!0}return{}}function Jn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ye in e)Lt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ye in r&&Lt(r)}}}function Lt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Lt(e[i],t)}catch{}const r=ot(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=cr(r);for(let n in i){const l=i[n].get;if(l)try{l.call(e)}catch{}}}}}let rr=!1;function Zn(){rr||(rr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Dr(e){var t=P,r=b;ve(null),le(null);try{return e()}finally{ve(t),le(r)}}function zr(e,t,r,i=r){e.addEventListener(t,()=>Dr(r));const n=e.__on_r;n?e.__on_r=()=>{n(),i(!0)}:e.__on_r=()=>i(!0),Zn()}const Fr=new Set,qt=new Set;function Xn(e,t,r,i){function n(l){if(i.capture||ze.call(t,l),!l.cancelBubble)return Dr(()=>r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nr(()=>{t.addEventListener(e,n,i)}):t.addEventListener(e,n,i),n}function vt(e,t,r,i,n){var l={capture:i,passive:n},a=Xn(e,t,r,l);(t===document.body||t===window||t===document)&&Rn(()=>{t.removeEventListener(e,a,l)})}function bt(e){for(var t=0;t<e.length;t++)Fr.add(e[t]);for(var r of qt)r(e)}function ze(e){var m;var t=this,r=t.ownerDocument,i=e.type,n=((m=e.composedPath)==null?void 0:m.call(e))||[],l=n[0]||e.target,a=0,c=e.__root;if(c){var f=n.indexOf(c);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var o=n.indexOf(t);if(o===-1)return;f<=o&&(a=f)}if(l=n[a]||e.target,l!==t){Zr(e,"currentTarget",{configurable:!0,get(){return l||r}});var u=P,_=b;ve(null),le(null);try{for(var s,d=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var y=l["__"+i];if(y!==void 0&&!l.disabled)if(Ft(y)){var[w,...p]=y;w.apply(l,[e,...p])}else y.call(l,e)}catch(g){s?d.push(g):s=g}if(e.cancelBubble||h===t||h===null)break;l=h}if(s){for(let g of d)queueMicrotask(()=>{throw g});throw s}}finally{e.__root=t,delete e.currentTarget,ve(u),le(_)}}}function Gn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function nr(e,t){var r=b;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function z(e,t){var r=(t&Sn)!==0,i=(t&Pn)!==0,n,l=!e.startsWith("<!>");return()=>{n===void 0&&(n=Gn(l?e:"<!>"+e),r||(n=st(n)));var a=i?document.importNode(n,!0):n.cloneNode(!0);if(r){var c=st(a),f=a.lastChild;nr(c,f)}else nr(a,a);return a}}function D(e,t){e!==null&&e.before(t)}const Qn=["touchstart","touchmove"];function ei(e){return Qn.includes(e)}function Ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function ti(e,t){return ri(e,t)}const ke=new Map;function ri(e,{target:t,anchor:r,props:i={},events:n,context:l,intro:a=!0}){An();var c=new Set,f=_=>{for(var s=0;s<_.length;s++){var d=_[s];if(!c.has(d)){c.add(d);var h=ei(d);t.addEventListener(d,ze,{passive:h});var y=ke.get(d);y===void 0?(document.addEventListener(d,ze,{passive:h}),ke.set(d,1)):ke.set(d,y+1)}}};f($t(Fr)),qt.add(f);var o=void 0,u=Ln(()=>{var _=r??t.appendChild(br());return je(()=>{if(l){we({});var s=R;s.c=l}n&&(i.$$events=n),o=e(_,i)||{},l&&be()}),()=>{var h;for(var s of c){t.removeEventListener(s,ze);var d=ke.get(s);--d===0?(document.removeEventListener(s,ze),ke.delete(s)):ke.set(s,d)}qt.delete(f),ir.delete(o),_!==r&&((h=_.parentNode)==null||h.removeChild(_))}});return ir.set(o,u),o}let ir=new WeakMap;function Se(e,t,r=!1){var i=e,n=null,l=null,a=null,c=r?Wt:0,f=!1;const o=(_,s=!0)=>{f=!0,u(s,_)},u=(_,s)=>{a!==(a=_)&&(a?(n?ct(n):s&&(n=je(()=>s(i))),l&&It(l,()=>{l=null})):(l?ct(l):s&&(l=je(()=>s(i))),n&&It(n,()=>{n=null})))};Yt(()=>{f=!1,t(o),f||u(null,null)},c)}function Ke(e,t){return t}function ni(e,t,r,i){for(var n=[],l=t.length,a=0;a<l;a++)Vt(t[a].e,n,!0);var c=l>0&&n.length===0&&r!==null;if(c){var f=r.parentNode;On(f),f.append(r),i.clear(),fe(e,t[0].prev,t[l-1].next)}Mr(n,()=>{for(var o=0;o<l;o++){var u=t[o];c||(i.delete(u.k),fe(e,u.prev,u.next)),ge(u.e,!c)}})}function Je(e,t,r,i,n,l=null){var a=e,c={flags:t,items:new Map,first:null};{var f=e;a=f.appendChild(br())}var o=null,u=!1;Yt(()=>{var _=r(),s=Ft(_)?_:_==null?[]:$t(_),d=s.length;if(!(u&&d===0)){u=d===0;{var h=P;ii(s,c,a,n,t,(h.f&ne)!==0,i)}l!==null&&(d===0?o?ct(o):o=je(()=>l(a)):o!==null&&It(o,()=>{o=null})),r()}})}function ii(e,t,r,i,n,l,a){var c=e.length,f=t.items,o=t.first,u=o,_,s=null,d=[],h=[],y,w,p,m;for(m=0;m<c;m+=1){if(y=e[m],w=a(y,m),p=f.get(w),p===void 0){var g=u?u.e.nodes_start:r;s=oi(g,t,s,s===null?t.first:s.next,y,w,m,i,n),f.set(w,s),d=[],h=[],u=s.next;continue}if(li(p,y,m),p.e.f&ne&&ct(p.e),p!==u){if(_!==void 0&&_.has(p)){if(d.length<h.length){var A=h[0],x;s=A.prev;var k=d[0],M=d[d.length-1];for(x=0;x<d.length;x+=1)lr(d[x],A,r);for(x=0;x<h.length;x+=1)_.delete(h[x]);fe(t,k.prev,M.next),fe(t,s,k),fe(t,M,A),u=A,s=M,m-=1,d=[],h=[]}else _.delete(p),lr(p,u,r),fe(t,p.prev,p.next),fe(t,p,s===null?t.first:s.next),fe(t,s,p),s=p;continue}for(d=[],h=[];u!==null&&u.k!==w;)(l||!(u.e.f&ne))&&(_??(_=new Set)).add(u),h.push(u),u=u.next;if(u===null)continue;p=u}d.push(p),s=p,u=p.next}if(u!==null||_!==void 0){for(var O=_===void 0?[]:$t(_);u!==null;)(l||!(u.e.f&ne))&&O.push(u),u=u.next;var F=O.length;if(F>0){var $=c===0?r:null;ni(t,O,$,f)}}b.first=t.first&&t.first.e,b.last=s&&s.e}function li(e,t,r,i){yr(e.v,t),e.i=r}function oi(e,t,r,i,n,l,a,c,f){var o=(f&yn)!==0,u=(f&gn)===0,_=o?u?pr(n):H(n):n,s=f&mn?H(a):a,d={i:s,v:_,k:l,a:null,e:null,prev:r,next:i};try{return d.e=je(()=>c(e,_,s),Tn),d.e.prev=r&&r.e,d.e.next=i&&i.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function lr(e,t,r){for(var i=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==i;){var a=ht(l);n.before(l),l=a}}function fe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function te(e,t,r,i){var n=e.__attributes??(e.__attributes={});n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ln]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ai(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var or=new Map;function ai(e){var t=or.get(e.nodeName);if(t)return t;or.set(e.nodeName,t=[]);for(var r,i=ot(e),n=Element.prototype;n!==i;){r=cr(i);for(var l in r)r[l].set&&t.push(l);i=ot(i)}return t}function Dt(e,t,r=t){var i=yt();zr(e,"input",n=>{var l=n?e.defaultValue:e.value;l=Tt(e)?At(l):l,r(l),i&&l!==(l=t())&&(e.value=l??"")}),he(t)==null&&e.value&&r(Tt(e)?At(e.value):e.value),pt(()=>{var n=t();Tt(e)&&n===At(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function si(e,t,r=t){zr(e,"change",i=>{var n=i?e.defaultChecked:e.checked;r(n)}),he(t)==null&&r(e.checked),pt(()=>{var i=t();e.checked=!!i})}function Tt(e){var t=e.type;return t==="number"||t==="range"}function At(e){return e===""?null:+e}function ar(e,t){return e===t||(e==null?void 0:e[ye])===t}function sr(e={},t,r,i){return Ht(()=>{var n,l;return pt(()=>{n=l,l=[],he(()=>{e!==r(...l)&&(t(e,...l),n&&ar(r(...n),e)&&t(null,...n))})}),()=>{Nr(()=>{l&&ar(r(...l),e)&&t(null,...l)})}}),e}function ui(e=!1){const t=R,r=t.l.u;if(!r)return;let i=()=>Jn(t.s);if(e){let n=0,l={};const a=ut(()=>{let c=!1;const f=t.s;for(const o in f)f[o]!==l[o]&&(l[o]=f[o],c=!0);return c&&n++,n});i=()=>v(a)}r.b.length&&Cn(()=>{ur(t,i),Ot(r.b)}),ft(()=>{const n=he(()=>r.m.map(Qr));return()=>{for(const l of n)typeof l=="function"&&l()}}),r.a.length&&ft(()=>{ur(t,i),Ot(r.a)})}function ur(e,t){if(e.l.s)for(const r of e.l.s)v(r);t()}function fi(e,t,r){if(e==null)return t(void 0),it;const i=he(()=>e.subscribe(t,r));return i.unsubscribe?()=>i.unsubscribe():i}let nt=!1;function ci(e){var t=nt;try{return nt=!1,[e(),nt]}finally{nt=t}}function fr(e){for(var t=b,r=b;t!==null&&!(t.f&(Z|He));)t=t.parent;try{return le(t),e()}finally{le(r)}}function zt(e,t,r,i){var M;var n=(r&wn)!==0,l=!Ne||(r&bn)!==0,a=(r&En)!==0,c=(r&xn)!==0,f=!1,o;a?[o,f]=ci(()=>e[t]):o=e[t];var u=ye in e||nn in e,_=((M=Pe(e,t))==null?void 0:M.set)??(u&&a&&t in e?O=>e[t]=O:void 0),s=i,d=!0,h=!1,y=()=>(h=!0,d&&(d=!1,c?s=he(i):s=i),s);o===void 0&&i!==void 0&&(_&&l&&fn(),o=y(),_&&_(o));var w;if(l)w=()=>{var O=e[t];return O===void 0?y():(d=!0,h=!1,O)};else{var p=fr(()=>(n?ut:Mn)(()=>e[t]));p.f|=tn,w=()=>{var O=v(p);return O!==void 0&&(s=void 0),O===void 0?s:O}}if(!(r&kn))return w;if(_){var m=e.$$legacy;return function(O,F){return arguments.length>0?((!l||!F||m||f)&&_(F?w():O),O):w()}}var g=!1,A=!1,x=pr(o),k=fr(()=>ut(()=>{var O=w(),F=v(x);return g?(g=!1,A=!0,F):(A=!1,x.v=O)}));return n||(k.equals=Bt),function(O,F){if(arguments.length>0){const $=F?v(k):l&&a?T(O):O;return k.equals($)||(g=!0,E(x,$),h&&s!==void 0&&(s=$),he(()=>v(k))),O}return v(k)}}function kt(e){R===null&&zn(),Ne&&R.l!==null?_i(R).m.push(e):ft(()=>{const t=he(e);if(typeof t=="function")return t})}function _i(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const di="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(di);let Me=800,Ze=800,ae=300,Be=300,vi="https://localhost-njg5.onrender.com",Jt=vi,hi="wss://localhost-njg5.onrender.com/";class pi{constructor(t,r,i){this.position=t;let n=[this.position[0]-r[0],this.position[1]-r[1]];this.rel_pos=[n[0]*Math.cos(i)+n[1]*Math.sin(i),-n[0]*Math.sin(i)+n[1]*Math.cos(i)],this.type="entity",this.color="black",this.depth=1/0,this.rel_pos[1]>0&&(this.depth=this.rel_pos[1])}render(t,r){}}class yi extends pi{render(t,r){this.color="green";let i=ae,n=Be;r.beginPath();let l=i/2+i/2*this.rel_pos[0]/10,a=n/2-n/2*this.rel_pos[1]/10;if(r.beginPath(),r.arc(l,a,5,0,2*Math.PI),r.fillStyle="blue",r.fill(),this.rel_pos[1]<0)return;let c=this.rel_pos[0]/this.rel_pos[1];t.beginPath(),t.arc(c*Me/2+Me/2,Ze/2,100*1/this.rel_pos[1],0,2*Math.PI),t.fillStyle=this.color,t.fill()}}let mi={player:yi};const Ee=[];function $r(e,t=it){let r=null;const i=new Set;function n(c){if(hr(e,c)&&(e=c,r)){const f=!Ee.length;for(const o of i)o[1](),Ee.push(o,e);if(f){for(let o=0;o<Ee.length;o+=2)Ee[o][0](Ee[o+1]);Ee.length=0}}}function l(c){n(c(e))}function a(c,f=it){const o=[c,f];return i.add(o),i.size===1&&(r=t(n,l)||it),c(e),()=>{i.delete(o),i.size===0&&r&&(r(),r=null)}}return{set:n,update:l,subscribe:a}}function K(e){let t;return fi(e,r=>t=r)(),t}const V=$r({chunk_offset:[0,0],chunk_w:8,chunk_h:8,world_map:[[]],player_pos:[0,0],player_rot:0,chunk_pos:[0,0],chunk_coords:[0,0]}),ce=1;let Q=Me,ee=Ze;function gi(e,t){let r=K(V).world_map;if(e>=0&&t>=0)try{return r[e][t]}catch{return}}function wi(e){e.length=0;let t=K(V).chunk_pos,r=K(V).chunk_offset;for(let n=-ce;n<=ce;n++)for(let l=-ce;l<=ce;l++){let a=[l+r[0]+t[0],n+r[1]+t[1]],f={info:gi(...a),position:[l+t[0],n+t[1]]};e.push(f)}let i=e.filter(n=>!!n.info);e.length=0,e.push(...i)}function bi(e,t,r){let i=K(V).chunk_w,n=K(V).chunk_h,l=K(V).chunk_pos;for(let a=0;a<e.length;a++){let c=e[a].info,f=e[a].position;for(let o=0;o<i;o++)for(let u=0;u<n;u++){let _="red",s=f[0]*i+o,d=f[1]*n+u,h=u*i+o,y=c[h];y==1&&(_="red");let w=s==-ce*i+i*l[0],p=s==2*ce*i-1+i*l[0],m=d==-ce*n+n*l[1],g=d==2*ce*n-1+n*l[1];if(w&&t.push({color:"blue",edge:[s,d,s,d+1]}),p&&t.push({color:"blue",edge:[s+1,d,s+1,d+1]}),m&&t.push({color:"blue",edge:[s,d,s+1,d]}),g&&t.push({color:"blue",edge:[s,d+1,s+1,d+1]}),y!=0){let A=[s,d,s+1,d],x=[s+1,d,s+1,d+1],k=[s+1,d+1,s,d+1],M=[s,d+1,s,d];r.push([[s,d],[s+1,d],[s+1,d+1],[s,d+1]]),t.push({color:_,edge:A}),t.push({color:_,edge:x}),t.push({color:_,edge:k}),t.push({color:_,edge:M})}}}}function jr(e,t){let r=0,i=e.length-1;for(;r<=i;){const n=Math.floor((r+i)/2);if(e[n].depth===t.depth){r=n;break}else e[n].depth<=t.depth?r=n+1:i=n-1}e.splice(r,0,t)}function ki(e,t){let[r,i]=K(V).player_pos,n=K(V).player_rot,l=Math.cos(n),a=Math.sin(n);for(let c=0;c<e.length;c++){let{edge:f,color:o}=e[c],[u,_,s,d]=f;[u,_,s,d]=[u-r,_-i,s-r,d-i];let[h,y]=[u*l+_*a,u*-a+l*_],[w,p]=[s*l+d*a,s*-a+l*d];const m=.1;if(y<m&&p<m)continue;if(y<m||p<m){const x=y<m?(m-y)/(p-y):(m-p)/(y-p);y<m?(h=h+x*(w-h),y=m):(w=w+x*(h-w),p=m)}if(y<=0||p<=0)continue;let g=(y+p)/2;jr(t,{data:[h,w,y,p],depth:g,color:o,type:"map"})}}function Ei(e,t){e.forEach(r=>{jr(t,{data:r,...r})})}function xi(e,t,r){r.reverse().forEach(({data:i,color:n,type:l,depth:a})=>{if(l=="entity"){i.render(e,t);return}let[c,f,o,u]=i;e.beginPath(),e.moveTo(c/o*Q/2+Q/2,ee/2+1/o/2*ee/2),e.lineTo(c/o*Q/2+Q/2,ee/2-1/o/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2-1/u/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2+1/u/2*ee/2),e.lineTo(c/o*Q/2+Q/2,ee/2+1/o/2*ee/2),e.fillStyle=n,e.fill(),e.stroke()})}function Si(e,t){t.clearRect(0,0,ae,Be),e.forEach(r=>Pi(t,r)),t.beginPath(),t.arc(ae/2,Be/2,5,0,2*Math.PI,!0),t.fillStyle="green",t.fill()}function Pi(e,t){let r=K(V).player_rot,i=K(V).player_pos,n=Math.cos(r),l=Math.sin(r);t=t.map(([u,_])=>{let[s,d]=[u-i[0],_-i[1]],[h,y]=[s*n+d*l,s*-l+d*n];return[h/10*ae/2+ae/2,-y/10*ae/2+ae/2]});let[a,c,f,o]=t;e.beginPath(),e.moveTo(...a),e.lineTo(...c),e.lineTo(...f),e.lineTo(...o),e.lineTo(...a),e.fillStyle="red",e.fill(),e.stroke()}let Zt=$r(void 0),re=new Image;re.src="./pistol_sheet.png";re.onload=()=>{};function Ti(e){let t=500,r=t;if(!re.complete)return;let i=re.width,n=re.height;e.drawImage(re,0,0,i/2,n,Me/2-t/4-20,Ze-r,t,r)}function Ai(e){let t=500,r=t;if(!re.complete)return;let i=re.width,n=re.height;e.drawImage(re,i/2,0,i/2,n,Me/2-t/4-20,Ze-r,t,r)}var Oi=z("<div> </div>"),Mi=z('<div class="game-container"><div class="top-bar svelte-zz7r8q"><div class="health-bar svelte-zz7r8q"><div class="health-bar-row svelte-zz7r8q"><div class="health-display"> </div></div></div> <div class="current-item"><div>Currently held item | Uses | Reloaded In</div> <div> </div></div></div> <canvas class="screen svelte-zz7r8q"></canvas></div> <canvas class="mini-map svelte-zz7r8q"></canvas> <div class="message-board svelte-zz7r8q"></div>',1);function Ii(e,t){we(t,!0);let r=t.decide_mode,i=new WebSocket(hi);kt(()=>{$=F.getContext("2d"),G=X.getContext("2d"),c(),i.onmessage=f});let n,l,a=C(T([])),c=()=>{n=S=>i.send(JSON.stringify({input:S,type:"update",group_id:K(Zt)}))},f=S=>{let j=JSON.parse(S.data);if(j.type=="initialize"){k=j.world_map,l=j.player_id,x=j.chunk_offset,p=j.position,A=j.chunk_coords,g=j.chunk_pos,m=j.player_rot,V.update(q=>{let Y={};return Y.chunk_offset=x,Y.player_pos=p,Y.chunk_pos=g,Y.player_rot=m,Y.world_map=k,{...q,...Y}});return}if(j.type=="update"){Le=j.entities.filter(ue=>ue.id!==l).map(ue=>new mi[ue.name](ue.position,p,m));let q=j.entities.filter(ue=>ue.id==l)[0];q.messages.length>0&&(v(a).push(q.messages),E(a,T(v(a).flat()))),E(_,T(q.health)),E(s,q.health/q.max_health*100),E(d,T(q.current_item));let Y=q.chunk_coords,St=q.position,Gt=q.rotation,Pt=q.chunk_pos;if(Pt[0]==g[0]&&Pt[1]==g[1]&&St[0]==p[0]&&St[1]==p[1]&&Y[0]==A[0]&&Y[1]==A[1]&&Gt==m)return;A=Y,p=St,g=Pt,m=Gt,V.update(ue=>({...ue,chunk_coords:A,chunk_pos:g,player_pos:p,player_rot:m})),Ge=[],Ce=[],wi(Xe),bi(Xe,Ge,Ce)}},o=[0,0],u=0,_=C(0),s=C(100),d=C("pistol"),h={space:0};function y(S){S.key=="w"&&(o[1]=-1),S.key=="a"&&(o[0]=-1),S.key=="s"&&(o[1]=1),S.key=="d"&&(o[0]=1),S.key=="ArrowLeft"&&(u=-1),S.key=="ArrowRight"&&(u=1),S.key=="Escape"&&r("menu"),S.key==" "&&(h.space=1),isNaN(Number(S.key))||(h.number=Number(S.key))}function w(S){S.key=="w"&&(o[1]=0),S.key=="a"&&(o[0]=0),S.key=="s"&&(o[1]=0),S.key=="d"&&(o[0]=0),S.key=="ArrowLeft"&&(u=0),S.key=="ArrowRight"&&(u=0),S.key==" "&&(h.space=0)}let p=[0,0],m=0,g=[0,0],A=[0,0],x=[0,0],k=Array.from({length:100},()=>new Array(100).fill(!1));k[x[0]][x[1]]=[1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1];let M=Me,O=Ze,F,$,X,G,Xe=[],Ge=[],Ce=[],Le=[],pe=[],qe=setInterval(()=>{(i.readyState==WebSocket.CLOSED||i.readyState==WebSocket.CLOSING)&&clearInterval(qe),pe=[],!(!$||!G)&&($.clearRect(0,0,M,O),G.clearRect(0,0,ae,Be),Si(Ce,G),n({direction:o,rotation:u,keyboard:h}),ki(Ge,pe),Ei(Le,pe),xi($,G,pe),h.space?Ai($):Ti($))},1e3/60);var De=Mi();vt("keyup",Oe,w),vt("keydown",Oe,y);var Qe=Fe(De),et=I(Qe),tt=I(et),Xt=I(tt),Br=I(Xt),Ur=I(Br),Hr=N(tt,2),Yr=N(I(Hr),2),Vr=I(Yr);se(()=>Ae(Vr,`${v(d).name??""} | ${v(d).uses??""} | ${(Math.floor(v(d).reloaded_in/100)/10||0)??""}`));var xt=N(et,2);te(xt,"width",M),te(xt,"height",O),sr(xt,S=>F=S,()=>F);var rt=N(Qe,2);te(rt,"width",ae),te(rt,"height",Be),sr(rt,S=>X=S,()=>X);var Kr=N(rt,2);Je(Kr,21,()=>v(a),Ke,(S,j)=>{var q=Oi(),Y=I(q);se(()=>Ae(Y,`[${v(j).time??""}] ${v(j).text??""}`)),D(S,q)}),se(()=>{te(Xt,"style",`width:${v(s)??""}%;`),Ae(Ur,`${v(_)??""} / ${v(_)/v(s)*100}`)}),D(e,De),be()}var Ni=(e,t,r)=>t(v(r)),Ri=z("<a> </a>"),Ci=z('<div style="height:100vh;"><h1>List of active servers</h1> <ul></ul></div>');function Li(e,t){we(t,!0);let r=t.decide_mode,i=C(T([]));kt(()=>{fetch(Jt).then(c=>c.json()).then(c=>{console.log(c.rooms),E(i,T(c.rooms))})});function n(c){Zt.set(c),r("play")}var l=Ci(),a=N(I(l),2);Je(a,21,()=>v(i),Ke,(c,f)=>{var o=Ri();o.__click=[Ni,n,f];var u=I(o);se(()=>Ae(u,v(f))),D(c,o)}),D(e,l),be()}bt(["click"]);hn();function qi(e,t){t()("play")}function Di(e,t){t()("connect")}function zi(e,t){t()("create")}var Fi=z('<div class="popup svelte-ykubcm"><div class="box svelte-ykubcm"><strong>Controls</strong> <div>"WASD" for Movement <br> Left + Right Key to turn <br> Space to use item <br> 1 to equip gun <br> 2 to equip medkit</div></div> <div class="box svelte-ykubcm"><button class="svelte-ykubcm">Play default server (recommended)</button> <button class="svelte-ykubcm">Play custom server</button> <button class="svelte-ykubcm">create custom server</button></div></div>');function $i(e,t){we(t,!1);let r=zt(t,"decide_mode",8);ui();var i=Fi(),n=N(I(i),2),l=I(n);l.__click=[qi,r];var a=N(l,2);a.__click=[Di,r];var c=N(a,2);c.__click=[zi,r],D(e,i),be()}bt(["click"]);var ji=z('<div class="svelte-11ykyy7"></div>'),Wi=z('<div class="map-preview svelte-11ykyy7"></div>');function Bi(e,t){we(t,!0);let r=t.preview,i=C(void 0),n=C(void 0);kt(()=>{let a=r.length;E(n,a*8),E(i,T(Array.from({length:v(n)**2},()=>1))),r.forEach((c,f)=>{c.forEach((o,u)=>{o.forEach((_,s)=>{let d=s%8,h=Math.floor(s/8),y=u*8,w=f*8,p=y+h,g=(w+d)*v(n)+(v(n)-p-1);v(i)[g]=_})})})});var l=Wi();Je(l,21,()=>v(i),Ke,(a,c)=>{var f=ji();se(()=>te(f,"style",`background-color:${(v(c)?"red":"white")??""}`)),D(a,f)}),se(()=>te(l,"style",`grid-template-rows:repeat(${v(n)??""}, 1fr);grid-template-columns:repeat(${v(n)??""}, 1fr)`)),D(e,l),be()}function Wr(e){let t=Math.sqrt(e.length);if(Math.floor(t/8)!=t/8){alert("map size needs to be multiple of 8!");return}let r=Array.from({length:t/8},()=>Array.from({length:t/8},()=>new Array(64).fill(0)));return e.forEach(({cell_state:i,index:n})=>{let l=n%t,a=Math.floor(n/t),c=[Math.floor(l/8),Math.floor(a/8)],f=[l%8,a%8];i==1&&(r[c[1]][c[0]][f[0]*8+f[1]]=i)}),r}async function Ui(e,t,r,i,n,l){if(!v(t)){alert("please dont waste memory");return}let a=Wr(v(t)),f=(await fetch("https://api.jsonbin.io/v3/b",{method:"POST",headers:{"Content-Type":"application/json","X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"},body:JSON.stringify({map:a,map_name:v(r)||i,map_size:n()})}).then(u=>u.json())).metadata.id,o={maps:[...l.received_maps,{map:a,map_id:f,map_name:v(r)||i,map_size:n()}]};await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a",{method:"PUT",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6","Content-Type":"application/json"},body:JSON.stringify(o)}).then(u=>u.json()),alert(`your mape ${v(r)||i} was successfully saved as a community map`)}var Hi=(e,t,r)=>t(v(r).index),Yi=(e,t,r)=>t(v(r).index),Vi=z('<div class="svelte-1d524l3"></div>'),Ki=z('<div>Map Name? <input type="text"></div> <br> <div>Map Size <input type="number" step="8"></div> <br> <button style="font-size:1em">Save Map as <strong> </strong> <br>(not needed, you can play the map without saving)</button> <div class="map-creator-container svelte-1d524l3"></div>',1);function Ji(e,t){we(t,!0);let r=zt(t,"map_size",15,16),i=zt(t,"definitive_map",15),n=T(crypto.randomUUID()),l=C(void 0),a=C(T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))));ft(()=>{E(a,T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))))});let c=!1;function f(g){c&&o(g)}function o(g){v(a)[g].cell_state=+!v(a)[g].cell_state,i(Wr([...v(a)]))}var u=Ki();vt("mousedown",Oe,()=>c=!0),vt("mouseup",Oe,()=>c=!1);var _=Fe(u),s=N(I(_)),d=N(_,4),h=N(I(d)),y=N(d,4);y.__click=[Ui,a,l,n,r,t];var w=N(I(y)),p=I(w),m=N(y,2);Je(m,21,()=>v(a),Ke,(g,A)=>{var x=Vi();x.__mousedown=[Hi,o,A],x.__mouseover=[Yi,f,A],se(()=>te(x,"style",`background-color: ${(v(A).cell_state==1?"red":"white")??""}`)),D(g,x)}),se(()=>{Ae(p,v(l)||n),te(m,"style",`
	grid-template-rows: repeat(${r()??""}, 1fr);
	grid-template-columns: repeat(${r()??""}, 1fr)`)}),Dt(s,()=>v(l),g=>E(l,g)),Dt(h,r),D(e,u),be()}bt(["click","mousedown","mouseover"]);function Zi(e,t,r,i,n,l,a,c){if(v(t)==""){alert("please give the server an id");return}fetch(Jt,{method:"POST",body:JSON.stringify({maybe_id:v(t),map_info:v(r)||v(i)!==void 0?{map:v(n),map_size:v(l)/8}:void 0}),headers:{"content-type":"application/json"}}).then(f=>f.json()).then(f=>{f.success&&(f.group_id==v(t)?(alert("created server with id: "+f.group_id),E(a,T(f.group_id)),c()):(alert("unfortunately your serverid is taken! created server with id: "+f.group_id),E(a,T(f.group_id)),c()))})}var Xi=z('<div><h3> </h3> <div><!></div></div> <hr style="height:1px;background-color:black;">',1),Gi=z("<ul></ul> <br>",1),Qi=z("<div>Loading Community Maps</div>"),el=z("<hr> <h1>Community Pages</h1> <!>",1),tl=z('<div class="container svelte-19f9sfu"><div class="server-name svelte-19f9sfu"><input type="text" placeholder="proposed server id?" class="svelte-19f9sfu"> <button class="svelte-19f9sfu">Create Server + Play</button></div> <div class="server-name svelte-19f9sfu"><div class="svelte-19f9sfu">Include own Map<input type="checkbox"></div></div> <!></div>');function rl(e,t){we(t,!0);let r=t.decide_mode,i=C(""),n=C(""),l=C(!1),a=C(8),c=C(void 0);function f(){Zt.set(v(i)),r("play")}console.log(Jt);let o=C(T([])),u=C(void 0);kt(async()=>{let k=await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a/latest",{method:"GET",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"}}).then(M=>M.json());E(o,T(k.record.maps))});function _(k){E(u,T(k));let M=v(o)[k];E(c,T(M.map)),E(a,T(M.map_size)),console.log(v(c),v(a))}var s=tl(),d=I(s),h=I(d),y=N(h,2);y.__click=[Zi,n,l,u,c,a,i,f];var w=N(d,2),p=I(w),m=N(I(p)),g=N(w,2);{var A=k=>{Ji(k,{get received_maps(){return v(o)},set received_maps(M){E(o,T(M))},get map_size(){return v(a)},set map_size(M){E(a,T(M))},get definitive_map(){return v(c)},set definitive_map(M){E(c,T(M))}})},x=k=>{var M=el(),O=N(Fe(M),4);{var F=X=>{var G=Gi(),Xe=Fe(G);Je(Xe,21,()=>v(o),Ke,(Ce,Le,pe)=>{var Et=Xi(),qe=Fe(Et);qe.__click=()=>_(pe);var De=I(qe),Qe=I(De),et=N(De,2),tt=I(et);Bi(tt,{get preview(){return v(Le).map}}),se(()=>{te(qe,"style",`background-color: ${(pe==v(u)?"red":"transparent")??""}`),Ae(Qe,v(Le).map_name)}),D(Ce,Et)}),D(X,G)},$=X=>{var G=Qi();D(X,G)};Se(O,X=>{v(o).length>0?X(F):X($,!1)})}D(k,M)};Se(g,k=>{v(l)?k(A):k(x,!1)})}Dt(h,()=>v(n),k=>E(n,k)),si(m,()=>v(l),k=>E(l,k)),D(e,s),be()}bt(["click"]);var nl=z('<main style="display:flex;justify-content:center"><!> <!> <!> <!></main>');function il(e){let t=C("menu");function r(s){E(t,T(s))}var i=nl(),n=I(i);{var l=s=>{$i(s,{decide_mode:r})};Se(n,s=>{v(t)=="menu"&&s(l)})}var a=N(n,2);{var c=s=>{Li(s,{decide_mode:r})};Se(a,s=>{v(t)=="connect"&&s(c)})}var f=N(a,2);{var o=s=>{Ii(s,{decide_mode:r})};Se(f,s=>{v(t)=="play"&&s(o)})}var u=N(f,2);{var _=s=>{rl(s,{decide_mode:r})};Se(u,s=>{v(t)=="create"&&s(_)})}D(e,i)}ti(il,{target:document.getElementById("app")});
