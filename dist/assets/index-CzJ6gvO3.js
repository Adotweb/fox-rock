(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const Zr=!1;var $t=Array.isArray,jt=Array.from,Xr=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,_r=Object.getOwnPropertyDescriptors,Gr=Object.prototype,Qr=Array.prototype,at=Object.getPrototypeOf;const lt=()=>{};function en(e){return e()}function Ot(e){for(var t=0;t<e.length;t++)e[t]()}const J=2,dr=4,Ye=8,Wt=16,Z=32,Ve=64,Mt=128,we=256,st=512,W=1024,ve=2048,Ke=4096,ie=8192,Re=16384,tn=32768,Bt=65536,rn=1<<17,nn=1<<19,vr=1<<20,ge=Symbol("$state"),ln=Symbol("legacy props"),on=Symbol("");function hr(e){return e===this.v}function pr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ut(e){return!pr(e,this.v)}function an(e){throw new Error("effect_in_teardown")}function sn(){throw new Error("effect_in_unowned_derived")}function un(e){throw new Error("effect_orphan")}function fn(){throw new Error("effect_update_depth_exceeded")}function cn(e){throw new Error("props_invalid_value")}function _n(){throw new Error("state_descriptors_fixed")}function dn(){throw new Error("state_prototype_fixed")}function vn(){throw new Error("state_unsafe_local_read")}function hn(){throw new Error("state_unsafe_mutation")}let Ce=!1;function pn(){Ce=!0}function H(e){return{f:0,v:e,reactions:null,equals:hr,version:0}}function C(e){return mn(H(e))}function mr(e,t=!1){var i;const r=H(e);return t||(r.equals=Ut),Ce&&R!==null&&R.l!==null&&((i=R.l).s??(i.s=[])).push(r),r}function mn(e){return P!==null&&P.f&J&&(le===null?$n([e]):le.push(e)),e}function E(e,t){return P!==null&&yt()&&P.f&(J|Wt)&&(le===null||!le.includes(e))&&hn(),yr(e,t)}function yr(e,t){return e.equals(t)||(e.v=t,e.version=Lr(),gr(e,ve),yt()&&b!==null&&b.f&W&&!(b.f&Z)&&(q!==null&&q.includes(e)?(ae(b,ve),bt(b)):de===null?jn([e]):de.push(e))),t}function gr(e,t){var r=e.reactions;if(r!==null)for(var i=yt(),n=r.length,l=0;l<n;l++){var a=r[l],c=a.f;c&ve||!i&&a===b||(ae(a,t),c&(W|we)&&(c&J?gr(a,Ke):bt(a)))}}const yn=1,gn=2,wn=16,bn=1,kn=2,En=4,xn=8,Sn=16,Pn=1,Tn=2,B=Symbol();let An=!1;function T(e,t=null,r){if(typeof e!="object"||e===null||ge in e)return e;const i=at(e);if(i!==Gr&&i!==Qr)return e;var n=new Map,l=$t(e),a=H(0);l&&n.set("length",H(e.length));var c;return new Proxy(e,{defineProperty(f,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&_n();var d=n.get(o);return d===void 0?(d=H(u.value),n.set(o,d)):E(d,T(u.value,c)),!0},deleteProperty(f,o){var u=n.get(o);if(u===void 0)o in f&&n.set(o,H(B));else{if(l&&typeof o=="string"){var d=n.get("length"),s=Number(o);Number.isInteger(s)&&s<d.v&&E(d,s)}E(u,B),er(a)}return!0},get(f,o,u){var h;if(o===ge)return e;var d=n.get(o),s=o in f;if(d===void 0&&(!s||(h=Ie(f,o))!=null&&h.writable)&&(d=H(T(s?f[o]:B,c)),n.set(o,d)),d!==void 0){var _=v(d);return _===B?void 0:_}return Reflect.get(f,o,u)},getOwnPropertyDescriptor(f,o){var u=Reflect.getOwnPropertyDescriptor(f,o);if(u&&"value"in u){var d=n.get(o);d&&(u.value=v(d))}else if(u===void 0){var s=n.get(o),_=s==null?void 0:s.v;if(s!==void 0&&_!==B)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(f,o){var _;if(o===ge)return!0;var u=n.get(o),d=u!==void 0&&u.v!==B||Reflect.has(f,o);if(u!==void 0||b!==null&&(!d||(_=Ie(f,o))!=null&&_.writable)){u===void 0&&(u=H(d?T(f[o],c):B),n.set(o,u));var s=v(u);if(s===B)return!1}return d},set(f,o,u,d){var g;var s=n.get(o),_=o in f;if(l&&o==="length")for(var h=u;h<s.v;h+=1){var m=n.get(h+"");m!==void 0?E(m,B):h in f&&(m=H(B),n.set(h+"",m))}s===void 0?(!_||(g=Ie(f,o))!=null&&g.writable)&&(s=H(void 0),E(s,T(u,c)),n.set(o,s)):(_=s.v!==B,E(s,T(u,c)));var w=Reflect.getOwnPropertyDescriptor(f,o);if(w!=null&&w.set&&w.set.call(d,u),!_){if(l&&typeof o=="string"){var p=n.get("length"),y=Number(o);Number.isInteger(y)&&y>=p.v&&E(p,y+1)}er(a)}return!0},ownKeys(f){v(a);var o=Reflect.ownKeys(f).filter(s=>{var _=n.get(s);return _===void 0||_.v!==B});for(var[u,d]of n)d.v!==B&&!(u in f)&&o.push(u);return o},setPrototypeOf(){dn()}})}function er(e,t=1){E(e,e.v+t)}var Ne,wr,br;function In(){if(Ne===void 0){Ne=window;var e=Element.prototype,t=Node.prototype;wr=Ie(t,"firstChild").get,br=Ie(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function kr(e=""){return document.createTextNode(e)}function ut(e){return wr.call(e)}function pt(e){return br.call(e)}function M(e,t){return ut(e)}function je(e,t){{var r=ut(e);return r instanceof Comment&&r.data===""?pt(r):r}}function N(e,t=1,r=!1){let i=e;for(;t--;)i=pt(i);return i}function On(e){e.textContent=""}function ft(e){var t=J|ve;b===null?t|=we:b.f|=vr;var r=P!==null&&P.f&J?P:null;const i={children:null,ctx:R,deps:null,equals:hr,f:t,fn:e,reactions:null,v:null,version:0,parent:r??b};return r!==null&&(r.children??(r.children=[])).push(i),i}function Mn(e){const t=ft(e);return t.equals=Ut,t}function Er(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var i=t[r];i.f&J?Ht(i):be(i)}}}function Nn(e){for(var t=e.parent;t!==null;){if(!(t.f&J))return t;t=t.parent}return null}function xr(e){var t,r=b;oe(Nn(e));try{Er(e),t=qr(e)}finally{oe(r)}return t}function Sr(e){var t=xr(e),r=(Te||e.f&we)&&e.deps!==null?Ke:W;ae(e,r),e.equals(t)||(e.v=t,e.version=Lr())}function Ht(e){Er(e),Ue(e,0),ae(e,Re),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Pr(e){b===null&&P===null&&un(),P!==null&&P.f&we&&sn(),Jt&&an()}function Rn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Le(e,t,r,i=!0){var n=(e&Ve)!==0,l=b,a={ctx:R,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:n?null:l,prev:null,teardown:null,transitions:null,version:0};if(r){var c=Oe;try{tr(!0),wt(a),a.f|=tn}catch(u){throw be(a),u}finally{tr(c)}}else t!==null&&bt(a);var f=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&vr)===0;if(!f&&!n&&i&&(l!==null&&Rn(a,l),P!==null&&P.f&J)){var o=P;(o.children??(o.children=[])).push(a)}return a}function Cn(e){const t=Le(Ye,null,!1);return ae(t,W),t.teardown=e,t}function ct(e){Pr();var t=b!==null&&(b.f&Z)!==0&&R!==null&&!R.m;if(t){var r=R;(r.e??(r.e=[])).push({fn:e,effect:b,reaction:P})}else{var i=Yt(e);return i}}function Ln(e){return Pr(),mt(e)}function qn(e){const t=Le(Ve,e,!0);return()=>{be(t)}}function Yt(e){return Le(dr,e,!1)}function mt(e){return Le(Ye,e,!0)}function ue(e){return Vt(e)}function Vt(e,t=0){return Le(Ye|Wt|t,e,!0)}function Be(e,t=!0){return Le(Ye|Z,e,!0,t)}function Tr(e){var t=e.teardown;if(t!==null){const r=Jt,i=P;rr(!0),he(null);try{t.call(null)}finally{rr(r),he(i)}}}function Ar(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Ht(t[r])}}function Ir(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var i=r.next;be(r,t),r=i}}function Dn(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Z||be(t),t=r}}function be(e,t=!0){var r=!1;if((t||e.f&nn)&&e.nodes_start!==null){for(var i=e.nodes_start,n=e.nodes_end;i!==null;){var l=i===n?null:pt(i);i.remove(),i=l}r=!0}Ir(e,t&&!r),Ar(e),Ue(e,0),ae(e,Re);var a=e.transitions;if(a!==null)for(const f of a)f.stop();Tr(e);var c=e.parent;c!==null&&c.first!==null&&Or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Or(e){var t=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=r))}function Nt(e,t){var r=[];Kt(e,r,!0),Mr(r,()=>{be(e),t&&t()})}function Mr(e,t){var r=e.length;if(r>0){var i=()=>--r||t();for(var n of e)n.out(i)}else t()}function Kt(e,t,r){if(!(e.f&ie)){if(e.f^=ie,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var i=e.first;i!==null;){var n=i.next,l=(i.f&Bt)!==0||(i.f&Z)!==0;Kt(i,t,l?r:!1),i=n}}}function _t(e){Nr(e,!0)}function Nr(e,t){if(e.f&ie){Je(e)&&wt(e),e.f^=ie;for(var r=e.first;r!==null;){var i=r.next,n=(r.f&Bt)!==0||(r.f&Z)!==0;Nr(r,n?t:!1),r=i}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Rt=!1,Ct=[];function zn(){Rt=!1;const e=Ct.slice();Ct=[],Ot(e)}function Rr(e){Rt||(Rt=!0,queueMicrotask(zn)),Ct.push(e)}function Fn(e){throw new Error("lifecycle_outside_component")}let ot=!1,dt=!1,vt=null,Oe=!1,Jt=!1;function tr(e){Oe=e}function rr(e){Jt=e}let Lt=[],We=0;let P=null;function he(e){P=e}let b=null;function oe(e){b=e}let le=null;function $n(e){le=e}let q=null,U=0,de=null;function jn(e){de=e}let Cr=0,Te=!1,R=null;function Lr(){return++Cr}function yt(){return!Ce||R!==null&&R.l===null}function Je(e){var a,c;var t=e.f;if(t&ve)return!0;if(t&Ke){var r=e.deps,i=(t&we)!==0;if(r!==null){var n;if(t&st){for(n=0;n<r.length;n++)((a=r[n]).reactions??(a.reactions=[])).push(e);e.f^=st}for(n=0;n<r.length;n++){var l=r[n];if(Je(l)&&Sr(l),i&&b!==null&&!Te&&!((c=l==null?void 0:l.reactions)!=null&&c.includes(e))&&(l.reactions??(l.reactions=[])).push(e),l.version>e.version)return!0}}i||ae(e,W)}return!1}function Wn(e,t){for(var r=t;r!==null;){if(r.f&Mt)try{r.fn(e);return}catch{r.f^=Mt}r=r.parent}throw ot=!1,e}function Bn(e){return(e.f&Re)===0&&(e.parent===null||(e.parent.f&Mt)===0)}function gt(e,t,r,i){if(ot){if(r===null&&(ot=!1),Bn(t))throw e;return}r!==null&&(ot=!0);{Wn(e,t);return}}function qr(e){var s;var t=q,r=U,i=de,n=P,l=Te,a=le,c=R,f=e.f;q=null,U=0,de=null,P=f&(Z|Ve)?null:e,Te=!Oe&&(f&we)!==0,le=null,R=e.ctx;try{var o=(0,e.fn)(),u=e.deps;if(q!==null){var d;if(Ue(e,U),u!==null&&U>0)for(u.length=U+q.length,d=0;d<q.length;d++)u[U+d]=q[d];else e.deps=u=q;if(!Te)for(d=U;d<u.length;d++)((s=u[d]).reactions??(s.reactions=[])).push(e)}else u!==null&&U<u.length&&(Ue(e,U),u.length=U);return o}finally{q=t,U=r,de=i,P=n,Te=l,le=a,R=c}}function Un(e,t){let r=t.reactions;if(r!==null){var i=r.indexOf(e);if(i!==-1){var n=r.length-1;n===0?r=t.reactions=null:(r[i]=r[n],r.pop())}}r===null&&t.f&J&&(q===null||!q.includes(t))&&(ae(t,Ke),t.f&(we|st)||(t.f^=st),Ue(t,0))}function Ue(e,t){var r=e.deps;if(r!==null)for(var i=t;i<r.length;i++)Un(e,r[i])}function wt(e){var t=e.f;if(!(t&Re)){ae(e,W);var r=b,i=R;b=e;try{t&Wt?Dn(e):Ir(e),Ar(e),Tr(e);var n=qr(e);e.teardown=typeof n=="function"?n:null,e.version=Cr}catch(l){gt(l,e,r,i||e.ctx)}finally{b=r}}}function Hn(){if(We>1e3){We=0;try{fn()}catch(e){if(vt!==null)gt(e,vt,null);else throw e}}We++}function Yn(e){var t=e.length;if(t!==0){Hn();var r=Oe;Oe=!0;try{for(var i=0;i<t;i++){var n=e[i];n.f&W||(n.f^=W);var l=[];Dr(n,l),Vn(l)}}finally{Oe=r}}}function Vn(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var i=e[r];if(!(i.f&(Re|ie)))try{Je(i)&&(wt(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Or(i):i.fn=null))}catch(n){gt(n,i,null,i.ctx)}}}function Kn(){if(dt=!1,We>1001)return;const e=Lt;Lt=[],Yn(e),dt||(We=0,vt=null)}function bt(e){dt||(dt=!0,queueMicrotask(Kn)),vt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Ve|Z)){if(!(r&W))return;t.f^=W}}Lt.push(t)}function Dr(e,t){var r=e.first,i=[];e:for(;r!==null;){var n=r.f,l=(n&Z)!==0,a=l&&(n&W)!==0,c=r.next;if(!a&&!(n&ie))if(n&Ye){if(l)r.f^=W;else try{Je(r)&&wt(r)}catch(d){gt(d,r,null,r.ctx)}var f=r.first;if(f!==null){r=f;continue}}else n&dr&&i.push(r);if(c===null){let d=r.parent;for(;d!==null;){if(e===d)break e;var o=d.next;if(o!==null){r=o;continue e}d=d.parent}}r=c}for(var u=0;u<i.length;u++)f=i[u],t.push(f),Dr(f,t)}function v(e){var u;var t=e.f,r=(t&J)!==0;if(r&&t&Re){var i=xr(e);return Ht(e),i}if(P!==null){le!==null&&le.includes(e)&&vn();var n=P.deps;q===null&&n!==null&&n[U]===e?U++:q===null?q=[e]:q.push(e),de!==null&&b!==null&&b.f&W&&!(b.f&Z)&&de.includes(e)&&(ae(b,ve),bt(b))}else if(r&&e.deps===null)for(var l=e,a=l.parent,c=l;a!==null;)if(a.f&J){var f=a;c=f,a=f.parent}else{var o=a;(u=o.deriveds)!=null&&u.includes(c)||(o.deriveds??(o.deriveds=[])).push(c);break}return r&&(l=e,Je(l)&&Sr(l)),e.v}function pe(e){const t=P;try{return P=null,e()}finally{P=t}}const Jn=~(ve|Ke|W);function ae(e,t){e.f=e.f&Jn|t}function ke(e,t=!1,r){R={p:R,c:null,e:null,m:!1,s:e,x:null,l:null},Ce&&!t&&(R.l={s:null,u:null,r1:[],r2:H(!1)})}function Ee(e){const t=R;if(t!==null){const a=t.e;if(a!==null){var r=b,i=P;t.e=null;try{for(var n=0;n<a.length;n++){var l=a[n];oe(l.effect),he(l.reaction),Yt(l.fn)}}finally{oe(r),he(i)}}R=t.p,t.m=!0}return{}}function Zn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ge in e)qt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&ge in r&&qt(r)}}}function qt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{qt(e[i],t)}catch{}const r=at(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=_r(r);for(let n in i){const l=i[n].get;if(l)try{l.call(e)}catch{}}}}}let nr=!1;function Xn(){nr||(nr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function zr(e){var t=P,r=b;he(null),oe(null);try{return e()}finally{he(t),oe(r)}}function Fr(e,t,r,i=r){e.addEventListener(t,()=>zr(r));const n=e.__on_r;n?e.__on_r=()=>{n(),i(!0)}:e.__on_r=()=>i(!0),Xn()}const $r=new Set,Dt=new Set;function Gn(e,t,r,i){function n(l){if(i.capture||$e.call(t,l),!l.cancelBubble)return zr(()=>r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Rr(()=>{t.addEventListener(e,n,i)}):t.addEventListener(e,n,i),n}function ht(e,t,r,i,n){var l={capture:i,passive:n},a=Gn(e,t,r,l);(t===document.body||t===window||t===document)&&Cn(()=>{t.removeEventListener(e,a,l)})}function kt(e){for(var t=0;t<e.length;t++)$r.add(e[t]);for(var r of Dt)r(e)}function $e(e){var y;var t=this,r=t.ownerDocument,i=e.type,n=((y=e.composedPath)==null?void 0:y.call(e))||[],l=n[0]||e.target,a=0,c=e.__root;if(c){var f=n.indexOf(c);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var o=n.indexOf(t);if(o===-1)return;f<=o&&(a=f)}if(l=n[a]||e.target,l!==t){Xr(e,"currentTarget",{configurable:!0,get(){return l||r}});var u=P,d=b;he(null),oe(null);try{for(var s,_=[];l!==null;){var h=l.assignedSlot||l.parentNode||l.host||null;try{var m=l["__"+i];if(m!==void 0&&!l.disabled)if($t(m)){var[w,...p]=m;w.apply(l,[e,...p])}else m.call(l,e)}catch(g){s?_.push(g):s=g}if(e.cancelBubble||h===t||h===null)break;l=h}if(s){for(let g of _)queueMicrotask(()=>{throw g});throw s}}finally{e.__root=t,delete e.currentTarget,he(u),oe(d)}}}function Qn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ir(e,t){var r=b;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function F(e,t){var r=(t&Pn)!==0,i=(t&Tn)!==0,n,l=!e.startsWith("<!>");return()=>{n===void 0&&(n=Qn(l?e:"<!>"+e),r||(n=ut(n)));var a=i?document.importNode(n,!0):n.cloneNode(!0);if(r){var c=ut(a),f=a.lastChild;ir(c,f)}else ir(a,a);return a}}function z(e,t){e!==null&&e.before(t)}const ei=["touchstart","touchmove"];function ti(e){return ei.includes(e)}function Me(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function ri(e,t){return ni(e,t)}const Se=new Map;function ni(e,{target:t,anchor:r,props:i={},events:n,context:l,intro:a=!0}){In();var c=new Set,f=d=>{for(var s=0;s<d.length;s++){var _=d[s];if(!c.has(_)){c.add(_);var h=ti(_);t.addEventListener(_,$e,{passive:h});var m=Se.get(_);m===void 0?(document.addEventListener(_,$e,{passive:h}),Se.set(_,1)):Se.set(_,m+1)}}};f(jt($r)),Dt.add(f);var o=void 0,u=qn(()=>{var d=r??t.appendChild(kr());return Be(()=>{if(l){ke({});var s=R;s.c=l}n&&(i.$$events=n),o=e(d,i)||{},l&&Ee()}),()=>{var h;for(var s of c){t.removeEventListener(s,$e);var _=Se.get(s);--_===0?(document.removeEventListener(s,$e),Se.delete(s)):Se.set(s,_)}Dt.delete(f),lr.delete(o),d!==r&&((h=d.parentNode)==null||h.removeChild(d))}});return lr.set(o,u),o}let lr=new WeakMap;function Ae(e,t,r=!1){var i=e,n=null,l=null,a=null,c=r?Bt:0,f=!1;const o=(d,s=!0)=>{f=!0,u(s,d)},u=(d,s)=>{a!==(a=d)&&(a?(n?_t(n):s&&(n=Be(()=>s(i))),l&&Nt(l,()=>{l=null})):(l?_t(l):s&&(l=Be(()=>s(i))),n&&Nt(n,()=>{n=null})))};Vt(()=>{f=!1,t(o),f||u(null,null)},c)}function Ze(e,t){return t}function ii(e,t,r,i){for(var n=[],l=t.length,a=0;a<l;a++)Kt(t[a].e,n,!0);var c=l>0&&n.length===0&&r!==null;if(c){var f=r.parentNode;On(f),f.append(r),i.clear(),ce(e,t[0].prev,t[l-1].next)}Mr(n,()=>{for(var o=0;o<l;o++){var u=t[o];c||(i.delete(u.k),ce(e,u.prev,u.next)),be(u.e,!c)}})}function Xe(e,t,r,i,n,l=null){var a=e,c={flags:t,items:new Map,first:null};{var f=e;a=f.appendChild(kr())}var o=null,u=!1;Vt(()=>{var d=r(),s=$t(d)?d:d==null?[]:jt(d),_=s.length;if(!(u&&_===0)){u=_===0;{var h=P;li(s,c,a,n,t,(h.f&ie)!==0,i)}l!==null&&(_===0?o?_t(o):o=Be(()=>l(a)):o!==null&&Nt(o,()=>{o=null})),r()}})}function li(e,t,r,i,n,l,a){var c=e.length,f=t.items,o=t.first,u=o,d,s=null,_=[],h=[],m,w,p,y;for(y=0;y<c;y+=1){if(m=e[y],w=a(m,y),p=f.get(w),p===void 0){var g=u?u.e.nodes_start:r;s=ai(g,t,s,s===null?t.first:s.next,m,w,y,i,n),f.set(w,s),_=[],h=[],u=s.next;continue}if(oi(p,m,y),p.e.f&ie&&_t(p.e),p!==u){if(d!==void 0&&d.has(p)){if(_.length<h.length){var A=h[0],x;s=A.prev;var k=_[0],O=_[_.length-1];for(x=0;x<_.length;x+=1)or(_[x],A,r);for(x=0;x<h.length;x+=1)d.delete(h[x]);ce(t,k.prev,O.next),ce(t,s,k),ce(t,O,A),u=A,s=O,y-=1,_=[],h=[]}else d.delete(p),or(p,u,r),ce(t,p.prev,p.next),ce(t,p,s===null?t.first:s.next),ce(t,s,p),s=p;continue}for(_=[],h=[];u!==null&&u.k!==w;)(l||!(u.e.f&ie))&&(d??(d=new Set)).add(u),h.push(u),u=u.next;if(u===null)continue;p=u}_.push(p),s=p,u=p.next}if(u!==null||d!==void 0){for(var I=d===void 0?[]:jt(d);u!==null;)(l||!(u.e.f&ie))&&I.push(u),u=u.next;var $=I.length;if($>0){var L=c===0?r:null;ii(t,I,L,f)}}b.first=t.first&&t.first.e,b.last=s&&s.e}function oi(e,t,r,i){yr(e.v,t),e.i=r}function ai(e,t,r,i,n,l,a,c,f){var o=(f&yn)!==0,u=(f&wn)===0,d=o?u?mr(n):H(n):n,s=f&gn?H(a):a,_={i:s,v:d,k:l,a:null,e:null,prev:r,next:i};try{return _.e=Be(()=>c(e,d,s),An),_.e.prev=r&&r.e,_.e.next=i&&i.e,r===null?t.first=_:(r.next=_,r.e.next=_.e),i!==null&&(i.prev=_,i.e.prev=_.e),_}finally{}}function or(e,t,r){for(var i=e.next?e.next.e.nodes_start:r,n=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==i;){var a=pt(l);n.before(l),l=a}}function ce(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function te(e,t,r,i){var n=e.__attributes??(e.__attributes={});n[t]!==(n[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[on]=r),r==null?e.removeAttribute(t):typeof r!="string"&&si(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var ar=new Map;function si(e){var t=ar.get(e.nodeName);if(t)return t;ar.set(e.nodeName,t=[]);for(var r,i=at(e),n=Element.prototype;n!==i;){r=_r(i);for(var l in r)r[l].set&&t.push(l);i=at(i)}return t}function zt(e,t,r=t){var i=yt();Fr(e,"input",n=>{var l=n?e.defaultValue:e.value;l=At(e)?It(l):l,r(l),i&&l!==(l=t())&&(e.value=l??"")}),pe(t)==null&&e.value&&r(At(e)?It(e.value):e.value),mt(()=>{var n=t();At(e)&&n===It(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function ui(e,t,r=t){Fr(e,"change",i=>{var n=i?e.defaultChecked:e.checked;r(n)}),pe(t)==null&&r(e.checked),mt(()=>{var i=t();e.checked=!!i})}function At(e){var t=e.type;return t==="number"||t==="range"}function It(e){return e===""?null:+e}function sr(e,t){return e===t||(e==null?void 0:e[ge])===t}function ur(e={},t,r,i){return Yt(()=>{var n,l;return mt(()=>{n=l,l=[],pe(()=>{e!==r(...l)&&(t(e,...l),n&&sr(r(...n),e)&&t(null,...n))})}),()=>{Rr(()=>{l&&sr(r(...l),e)&&t(null,...l)})}}),e}function fi(e=!1){const t=R,r=t.l.u;if(!r)return;let i=()=>Zn(t.s);if(e){let n=0,l={};const a=ft(()=>{let c=!1;const f=t.s;for(const o in f)f[o]!==l[o]&&(l[o]=f[o],c=!0);return c&&n++,n});i=()=>v(a)}r.b.length&&Ln(()=>{fr(t,i),Ot(r.b)}),ct(()=>{const n=pe(()=>r.m.map(en));return()=>{for(const l of n)typeof l=="function"&&l()}}),r.a.length&&ct(()=>{fr(t,i),Ot(r.a)})}function fr(e,t){if(e.l.s)for(const r of e.l.s)v(r);t()}function ci(e,t,r){if(e==null)return t(void 0),lt;const i=pe(()=>e.subscribe(t,r));return i.unsubscribe?()=>i.unsubscribe():i}let it=!1;function _i(e){var t=it;try{return it=!1,[e(),it]}finally{it=t}}function cr(e){for(var t=b,r=b;t!==null&&!(t.f&(Z|Ve));)t=t.parent;try{return oe(t),e()}finally{oe(r)}}function Ft(e,t,r,i){var O;var n=(r&bn)!==0,l=!Ce||(r&kn)!==0,a=(r&xn)!==0,c=(r&Sn)!==0,f=!1,o;a?[o,f]=_i(()=>e[t]):o=e[t];var u=ge in e||ln in e,d=((O=Ie(e,t))==null?void 0:O.set)??(u&&a&&t in e?I=>e[t]=I:void 0),s=i,_=!0,h=!1,m=()=>(h=!0,_&&(_=!1,c?s=pe(i):s=i),s);o===void 0&&i!==void 0&&(d&&l&&cn(),o=m(),d&&d(o));var w;if(l)w=()=>{var I=e[t];return I===void 0?m():(_=!0,h=!1,I)};else{var p=cr(()=>(n?ft:Mn)(()=>e[t]));p.f|=rn,w=()=>{var I=v(p);return I!==void 0&&(s=void 0),I===void 0?s:I}}if(!(r&En))return w;if(d){var y=e.$$legacy;return function(I,$){return arguments.length>0?((!l||!$||y||f)&&d($?w():I),I):w()}}var g=!1,A=!1,x=mr(o),k=cr(()=>ft(()=>{var I=w(),$=v(x);return g?(g=!1,A=!0,$):(A=!1,x.v=I)}));return n||(k.equals=Ut),function(I,$){if(arguments.length>0){const L=$?v(k):l&&a?T(I):I;return k.equals(L)||(g=!0,E(x,L),h&&s!==void 0&&(s=L),pe(()=>v(k))),I}return v(k)}}function Et(e){R===null&&Fn(),Ce&&R.l!==null?di(R).m.push(e):ct(()=>{const t=pe(e);if(typeof t=="function")return t})}function di(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const vi="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vi);let me=800,xe=800,se=300,He=300,hi="https://localhost-njg5.onrender.com",Zt=hi,pi="wss://localhost-njg5.onrender.com/";class mi{constructor(t,r,i){this.position=t;let n=[this.position[0]-r[0],this.position[1]-r[1]];this.rel_pos=[n[0]*Math.cos(i)+n[1]*Math.sin(i),-n[0]*Math.sin(i)+n[1]*Math.cos(i)],this.type="entity",this.color="black",this.depth=1/0,this.rel_pos[1]>0&&(this.depth=this.rel_pos[1])}render(t,r){}}class yi extends mi{render(t,r){this.color="green";let i=se,n=He;r.beginPath();let l=i/2+i/2*this.rel_pos[0]/10,a=n/2-n/2*this.rel_pos[1]/10;if(r.beginPath(),r.arc(l,a,5,0,2*Math.PI),r.fillStyle="blue",r.fill(),this.rel_pos[1]<0)return;let c=this.rel_pos[0]/this.rel_pos[1];t.beginPath(),t.arc(c*me/2+me/2,xe/2,100*1/this.rel_pos[1],0,2*Math.PI),t.fillStyle=this.color,t.fill()}}let gi={player:yi};const Pe=[];function jr(e,t=lt){let r=null;const i=new Set;function n(c){if(pr(e,c)&&(e=c,r)){const f=!Pe.length;for(const o of i)o[1](),Pe.push(o,e);if(f){for(let o=0;o<Pe.length;o+=2)Pe[o][0](Pe[o+1]);Pe.length=0}}}function l(c){n(c(e))}function a(c,f=lt){const o=[c,f];return i.add(o),i.size===1&&(r=t(n,l)||lt),c(e),()=>{i.delete(o),i.size===0&&r&&(r(),r=null)}}return{set:n,update:l,subscribe:a}}function K(e){let t;return ci(e,r=>t=r)(),t}const V=jr({chunk_offset:[0,0],chunk_w:8,chunk_h:8,world_map:[[]],player_pos:[0,0],player_rot:0,chunk_pos:[0,0],chunk_coords:[0,0]}),_e=1;let Q=me,ee=xe;function wi(e,t){let r=K(V).world_map;if(e>=0&&t>=0)try{return r[e][t]}catch{return}}function bi(e){e.length=0;let t=K(V).chunk_pos,r=K(V).chunk_offset;for(let n=-_e;n<=_e;n++)for(let l=-_e;l<=_e;l++){let a=[l+r[0]+t[0],n+r[1]+t[1]],f={info:wi(...a),position:[l+t[0],n+t[1]]};e.push(f)}let i=e.filter(n=>!!n.info);e.length=0,e.push(...i)}function ki(e,t,r){let i=K(V).chunk_w,n=K(V).chunk_h,l=K(V).chunk_pos;for(let a=0;a<e.length;a++){let c=e[a].info,f=e[a].position;for(let o=0;o<i;o++)for(let u=0;u<n;u++){let d="red",s=f[0]*i+o,_=f[1]*n+u,h=u*i+o,m=c[h];m==1&&(d="red");let w=s==-_e*i+i*l[0],p=s==2*_e*i-1+i*l[0],y=_==-_e*n+n*l[1],g=_==2*_e*n-1+n*l[1];if(w&&t.push({color:"blue",edge:[s,_,s,_+1]}),p&&t.push({color:"blue",edge:[s+1,_,s+1,_+1]}),y&&t.push({color:"blue",edge:[s,_,s+1,_]}),g&&t.push({color:"blue",edge:[s,_+1,s+1,_+1]}),m!=0){let A=[s,_,s+1,_],x=[s+1,_,s+1,_+1],k=[s+1,_+1,s,_+1],O=[s,_+1,s,_];r.push([[s,_],[s+1,_],[s+1,_+1],[s,_+1]]),t.push({color:d,edge:A}),t.push({color:d,edge:x}),t.push({color:d,edge:k}),t.push({color:d,edge:O})}}}}function Wr(e,t){let r=0,i=e.length-1;for(;r<=i;){const n=Math.floor((r+i)/2);if(e[n].depth===t.depth){r=n;break}else e[n].depth<=t.depth?r=n+1:i=n-1}e.splice(r,0,t)}function Ei(e,t){let[r,i]=K(V).player_pos,n=K(V).player_rot,l=Math.cos(n),a=Math.sin(n);for(let c=0;c<e.length;c++){let{edge:f,color:o}=e[c],[u,d,s,_]=f;[u,d,s,_]=[u-r,d-i,s-r,_-i];let[h,m]=[u*l+d*a,u*-a+l*d],[w,p]=[s*l+_*a,s*-a+l*_];const y=.1;if(m<y&&p<y)continue;if(m<y||p<y){const x=m<y?(y-m)/(p-m):(y-p)/(m-p);m<y?(h=h+x*(w-h),m=y):(w=w+x*(h-w),p=y)}if(m<=0||p<=0)continue;let g=(m+p)/2;Wr(t,{data:[h,w,m,p],depth:g,color:o,type:"map"})}}function xi(e,t){e.forEach(r=>{Wr(t,{data:r,...r})})}function Si(e,t,r){r.reverse().forEach(({data:i,color:n,type:l,depth:a})=>{if(l=="entity"){i.render(e,t);return}let[c,f,o,u]=i;e.beginPath(),e.moveTo(c/o*Q/2+Q/2,ee/2+1/o/2*ee/2),e.lineTo(c/o*Q/2+Q/2,ee/2-1/o/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2-1/u/2*ee/2),e.lineTo(f/u*Q/2+Q/2,ee/2+1/u/2*ee/2),e.lineTo(c/o*Q/2+Q/2,ee/2+1/o/2*ee/2),e.fillStyle=n,e.fill(),e.stroke()})}function Pi(e,t){t.clearRect(0,0,se,He),e.forEach(r=>Ti(t,r)),t.beginPath(),t.arc(se/2,He/2,5,0,2*Math.PI,!0),t.fillStyle="green",t.fill()}function Ti(e,t){let r=K(V).player_rot,i=K(V).player_pos,n=Math.cos(r),l=Math.sin(r);t=t.map(([u,d])=>{let[s,_]=[u-i[0],d-i[1]],[h,m]=[s*n+_*l,s*-l+_*n];return[h/10*se/2+se/2,-m/10*se/2+se/2]});let[a,c,f,o]=t;e.beginPath(),e.moveTo(...a),e.lineTo(...c),e.lineTo(...f),e.lineTo(...o),e.lineTo(...a),e.fillStyle="red",e.fill(),e.stroke()}let Xt=jr(void 0),re=new Image;re.src="./pistol_sheet.png";re.onload=()=>{};function Ai(e){let t=500,r=t;if(!re.complete)return;let i=re.width,n=re.height;e.drawImage(re,0,0,i/2,n,me/2-t/4-20,xe-r,t,r)}function Ii(e){let t=500,r=t;if(!re.complete)return;let i=re.width,n=re.height;e.drawImage(re,i/2,0,i/2,n,me/2-t/4-20,xe-r,t,r)}let ne=new Image;ne.src="./medkit_sheet.png";ne.onload=()=>{};function Oi(e){let t=500,r=t;if(!ne.complete)return;let i=ne.width,n=ne.height;e.drawImage(ne,0,0,i/2,n,me/2-t/4-100,xe-r+80,t,r)}function Mi(e){let t=500,r=t;if(!ne.complete)return;let i=ne.width,n=ne.height;e.drawImage(ne,i/2,0,i/2,n,me/2-t/4-100,xe-r+80,t,r)}var Ni=F("<div> </div>"),Ri=F('<div class="game-container"><div class="top-bar svelte-zz7r8q"><div class="health-bar svelte-zz7r8q"><div class="health-bar-row svelte-zz7r8q"><div class="health-display"> </div></div></div> <div class="current-item"><div>Currently held item | Uses | Reloaded In</div> <div> </div></div></div> <canvas class="screen svelte-zz7r8q"></canvas></div> <canvas class="mini-map svelte-zz7r8q"></canvas> <div class="message-board svelte-zz7r8q"></div>',1);function Ci(e,t){ke(t,!0);let r=t.decide_mode,i=new WebSocket(pi);Et(()=>{L=$.getContext("2d"),G=X.getContext("2d"),c(),i.onmessage=f});let n,l,a=C(T([])),c=()=>{n=S=>i.send(JSON.stringify({input:S,type:"update",group_id:K(Xt)}))},f=S=>{let j=JSON.parse(S.data);if(j.type=="initialize"){k=j.world_map,l=j.player_id,x=j.chunk_offset,p=j.position,A=j.chunk_coords,g=j.chunk_pos,y=j.player_rot,V.update(D=>{let Y={};return Y.chunk_offset=x,Y.player_pos=p,Y.chunk_pos=g,Y.player_rot=y,Y.world_map=k,{...D,...Y}});return}if(j.type=="update"){De=j.entities.filter(fe=>fe.id!==l).map(fe=>new gi[fe.name](fe.position,p,y));let D=j.entities.filter(fe=>fe.id==l)[0];D.messages.length>0&&(v(a).push(D.messages),E(a,T(v(a).flat()))),E(d,T(D.health)),E(s,D.health/D.max_health*100),E(_,T(D.current_item));let Y=D.chunk_coords,Pt=D.position,Qt=D.rotation,Tt=D.chunk_pos;if(Tt[0]==g[0]&&Tt[1]==g[1]&&Pt[0]==p[0]&&Pt[1]==p[1]&&Y[0]==A[0]&&Y[1]==A[1]&&Qt==y)return;A=Y,p=Pt,g=Tt,y=Qt,V.update(fe=>({...fe,chunk_coords:A,chunk_pos:g,player_pos:p,player_rot:y})),Qe=[],qe=[],bi(Ge),ki(Ge,Qe,qe)}},o=[0,0],u=0,d=C(0),s=C(100),_=C("pistol"),h={space:0};function m(S){S.key=="w"&&(o[1]=-1),S.key=="a"&&(o[0]=-1),S.key=="s"&&(o[1]=1),S.key=="d"&&(o[0]=1),S.key=="ArrowLeft"&&(u=-1),S.key=="ArrowRight"&&(u=1),S.key=="Escape"&&r("menu"),S.key==" "&&(h.space=1),isNaN(Number(S.key))||(h.number=Number(S.key))}function w(S){S.key=="w"&&(o[1]=0),S.key=="a"&&(o[0]=0),S.key=="s"&&(o[1]=0),S.key=="d"&&(o[0]=0),S.key=="ArrowLeft"&&(u=0),S.key=="ArrowRight"&&(u=0),S.key==" "&&(h.space=0)}let p=[0,0],y=0,g=[0,0],A=[0,0],x=[0,0],k=Array.from({length:100},()=>new Array(100).fill(!1));k[x[0]][x[1]]=[1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1];let O=me,I=xe,$,L,X,G,Ge=[],Qe=[],qe=[],De=[],ye=[],ze=setInterval(()=>{(i.readyState==WebSocket.CLOSED||i.readyState==WebSocket.CLOSING)&&clearInterval(ze),ye=[],!(!L||!G)&&(L.clearRect(0,0,O,I),G.clearRect(0,0,se,He),Pi(qe,G),n({direction:o,rotation:u,keyboard:h}),Ei(Qe,ye),xi(De,ye),Si(L,G,ye),v(_).name=="heal"&&(v(_).uses>0?Oi(L):Mi(L)),v(_).name=="pistol"&&(h.space?Ii(L):Ai(L)))},1e3/60);var Fe=Ri();ht("keyup",Ne,w),ht("keydown",Ne,m);var et=je(Fe),tt=M(et),rt=M(tt),Gt=M(rt),Ur=M(Gt),Hr=M(Ur),Yr=N(rt,2),Vr=N(M(Yr),2),Kr=M(Vr);ue(()=>Me(Kr,`${v(_).name??""} | ${v(_).uses??""} | ${(Math.floor(v(_).reloaded_in/100)/10||0)??""}`));var St=N(tt,2);te(St,"width",O),te(St,"height",I),ur(St,S=>$=S,()=>$);var nt=N(et,2);te(nt,"width",se),te(nt,"height",He),ur(nt,S=>X=S,()=>X);var Jr=N(nt,2);Xe(Jr,21,()=>v(a),Ze,(S,j)=>{var D=Ni(),Y=M(D);ue(()=>Me(Y,`[${v(j).time??""}] ${v(j).text??""}`)),z(S,D)}),ue(()=>{te(Gt,"style",`width:${v(s)??""}%;`),Me(Hr,`${v(d)??""} / ${v(d)/v(s)*100}`)}),z(e,Fe),Ee()}var Li=(e,t,r)=>t(v(r)),qi=F("<a> </a>"),Di=F('<div style="height:100vh;"><h1>List of active servers</h1> <ul></ul></div>');function zi(e,t){ke(t,!0);let r=t.decide_mode,i=C(T([]));Et(()=>{fetch(Zt+"/get_rooms").then(c=>c.json()).then(c=>{console.log(c.rooms),E(i,T(c.rooms))})});function n(c){Xt.set(c),r("play")}var l=Di(),a=N(M(l),2);Xe(a,21,()=>v(i),Ze,(c,f)=>{var o=qi();o.__click=[Li,n,f];var u=M(o);ue(()=>Me(u,v(f))),z(c,o)}),z(e,l),Ee()}kt(["click"]);pn();function Fi(e,t){t()("play")}function $i(e,t){t()("connect")}function ji(e,t){t()("create")}var Wi=F('<div class="popup svelte-ykubcm"><div class="box svelte-ykubcm"><strong>Controls</strong> <div>"WASD" for Movement <br> Left + Right Key to turn <br> Space to use item <br> 1 to equip gun <br> 2 to equip medkit</div></div> <div class="box svelte-ykubcm"><button class="svelte-ykubcm">Play default server (recommended)</button> <button class="svelte-ykubcm">Play custom server</button> <button class="svelte-ykubcm">create custom server</button></div></div>');function Bi(e,t){ke(t,!1);let r=Ft(t,"decide_mode",8);fi();var i=Wi(),n=N(M(i),2),l=M(n);l.__click=[Fi,r];var a=N(l,2);a.__click=[$i,r];var c=N(a,2);c.__click=[ji,r],z(e,i),Ee()}kt(["click"]);var Ui=F('<div class="svelte-11ykyy7"></div>'),Hi=F('<div class="map-preview svelte-11ykyy7"></div>');function Yi(e,t){ke(t,!0);let r=t.preview,i=C(void 0),n=C(void 0);Et(()=>{let a=r.length;E(n,a*8),E(i,T(Array.from({length:v(n)**2},()=>1))),r.forEach((c,f)=>{c.forEach((o,u)=>{o.forEach((d,s)=>{let _=s%8,h=Math.floor(s/8),m=u*8,w=f*8,p=m+h,g=(w+_)*v(n)+(v(n)-p-1);v(i)[g]=d})})})});var l=Hi();Xe(l,21,()=>v(i),Ze,(a,c)=>{var f=Ui();ue(()=>te(f,"style",`background-color:${(v(c)?"red":"white")??""}`)),z(a,f)}),ue(()=>te(l,"style",`grid-template-rows:repeat(${v(n)??""}, 1fr);grid-template-columns:repeat(${v(n)??""}, 1fr)`)),z(e,l),Ee()}function Br(e){let t=Math.sqrt(e.length);if(Math.floor(t/8)!=t/8){alert("map size needs to be multiple of 8!");return}let r=Array.from({length:t/8},()=>Array.from({length:t/8},()=>new Array(64).fill(0)));return e.forEach(({cell_state:i,index:n})=>{let l=n%t,a=Math.floor(n/t),c=[Math.floor(l/8),Math.floor(a/8)],f=[l%8,a%8];i==1&&(r[c[1]][c[0]][f[0]*8+f[1]]=i)}),r}async function Vi(e,t,r,i,n,l){if(!v(t)){alert("please dont waste memory");return}let a=Br(v(t)),f=(await fetch("https://api.jsonbin.io/v3/b",{method:"POST",headers:{"Content-Type":"application/json","X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"},body:JSON.stringify({map:a,map_name:v(r)||i,map_size:n()})}).then(u=>u.json())).metadata.id,o={maps:[...l.received_maps,{map:a,map_id:f,map_name:v(r)||i,map_size:n()}]};await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a",{method:"PUT",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6","Content-Type":"application/json"},body:JSON.stringify(o)}).then(u=>u.json()),alert(`your mape ${v(r)||i} was successfully saved as a community map`)}var Ki=(e,t,r)=>t(v(r).index),Ji=(e,t,r)=>t(v(r).index),Zi=F('<div class="svelte-1d524l3"></div>'),Xi=F('<div>Map Name? <input type="text"></div> <br> <div>Map Size <input type="number" step="8"></div> <br> <button style="font-size:1em">Save Map as <strong> </strong> <br>(not needed, you can play the map without saving)</button> <div class="map-creator-container svelte-1d524l3"></div>',1);function Gi(e,t){ke(t,!0);let r=Ft(t,"map_size",15,16),i=Ft(t,"definitive_map",15),n=T(crypto.randomUUID()),l=C(void 0),a=C(T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))));ct(()=>{E(a,T(new Array(r()*r()).fill(0).map((g,A)=>({cell_state:g,index:A}))))});let c=!1;function f(g){c&&o(g)}function o(g){v(a)[g].cell_state=+!v(a)[g].cell_state,i(Br([...v(a)]))}var u=Xi();ht("mousedown",Ne,()=>c=!0),ht("mouseup",Ne,()=>c=!1);var d=je(u),s=N(M(d)),_=N(d,4),h=N(M(_)),m=N(_,4);m.__click=[Vi,a,l,n,r,t];var w=N(M(m)),p=M(w),y=N(m,2);Xe(y,21,()=>v(a),Ze,(g,A)=>{var x=Zi();x.__mousedown=[Ki,o,A],x.__mouseover=[Ji,f,A],ue(()=>te(x,"style",`background-color: ${(v(A).cell_state==1?"red":"white")??""}`)),z(g,x)}),ue(()=>{Me(p,v(l)||n),te(y,"style",`
	grid-template-rows: repeat(${r()??""}, 1fr);
	grid-template-columns: repeat(${r()??""}, 1fr)`)}),zt(s,()=>v(l),g=>E(l,g)),zt(h,r),z(e,u),Ee()}kt(["click","mousedown","mouseover"]);function Qi(e,t,r,i,n,l,a,c){if(v(t)==""){alert("please give the server an id");return}fetch(Zt+"/create_room",{method:"POST",body:JSON.stringify({maybe_id:v(t),map_info:v(r)||v(i)!==void 0?{map:v(n),map_size:v(l)/8}:void 0}),headers:{"content-type":"application/json"}}).then(f=>f.json()).then(f=>{f.success&&(f.group_id==v(t)?(alert("created server with id: "+f.group_id),E(a,T(f.group_id)),c()):(alert("unfortunately your serverid is taken! created server with id: "+f.group_id),E(a,T(f.group_id)),c()))})}var el=F('<div><h3> </h3> <div><!></div></div> <hr style="height:1px;background-color:black;">',1),tl=F("<ul></ul> <br>",1),rl=F("<div>Loading Community Maps</div>"),nl=F("<hr> <h1>Community Pages</h1> <!>",1),il=F('<div class="container svelte-19f9sfu"><div class="server-name svelte-19f9sfu"><input type="text" placeholder="proposed server id?" class="svelte-19f9sfu"> <button class="svelte-19f9sfu">Create Server + Play</button></div> <div class="server-name svelte-19f9sfu"><div class="svelte-19f9sfu">Include own Map<input type="checkbox"></div></div> <!></div>');function ll(e,t){ke(t,!0);let r=t.decide_mode,i=C(""),n=C(""),l=C(!1),a=C(8),c=C(void 0);function f(){Xt.set(v(i)),r("play")}console.log(Zt);let o=C(T([])),u=C(void 0);Et(async()=>{let k=await fetch("https://api.jsonbin.io/v3/b/676538edad19ca34f8de392a/latest",{method:"GET",headers:{"X-Access-Key":"$2a$10$8XyWRHsCr1WHkjqpZPrnaOfRx5y8LFwIdYJZiwmiamWofr8/4FRo6"}}).then(O=>O.json());E(o,T(k.record.maps))});function d(k){E(u,T(k));let O=v(o)[k];E(c,T(O.map)),E(a,T(O.map_size)),console.log(v(c),v(a))}var s=il(),_=M(s),h=M(_),m=N(h,2);m.__click=[Qi,n,l,u,c,a,i,f];var w=N(_,2),p=M(w),y=N(M(p)),g=N(w,2);{var A=k=>{Gi(k,{get received_maps(){return v(o)},set received_maps(O){E(o,T(O))},get map_size(){return v(a)},set map_size(O){E(a,T(O))},get definitive_map(){return v(c)},set definitive_map(O){E(c,T(O))}})},x=k=>{var O=nl(),I=N(je(O),4);{var $=X=>{var G=tl(),Ge=je(G);Xe(Ge,21,()=>v(o),Ze,(qe,De,ye)=>{var xt=el(),ze=je(xt);ze.__click=()=>d(ye);var Fe=M(ze),et=M(Fe),tt=N(Fe,2),rt=M(tt);Yi(rt,{get preview(){return v(De).map}}),ue(()=>{te(ze,"style",`background-color: ${(ye==v(u)?"red":"transparent")??""}`),Me(et,v(De).map_name)}),z(qe,xt)}),z(X,G)},L=X=>{var G=rl();z(X,G)};Ae(I,X=>{v(o).length>0?X($):X(L,!1)})}z(k,O)};Ae(g,k=>{v(l)?k(A):k(x,!1)})}zt(h,()=>v(n),k=>E(n,k)),ui(y,()=>v(l),k=>E(l,k)),z(e,s),Ee()}kt(["click"]);var ol=F('<main style="display:flex;justify-content:center"><!> <!> <!> <!></main>');function al(e){let t=C("menu");function r(s){E(t,T(s))}var i=ol(),n=M(i);{var l=s=>{Bi(s,{decide_mode:r})};Ae(n,s=>{v(t)=="menu"&&s(l)})}var a=N(n,2);{var c=s=>{zi(s,{decide_mode:r})};Ae(a,s=>{v(t)=="connect"&&s(c)})}var f=N(a,2);{var o=s=>{Ci(s,{decide_mode:r})};Ae(f,s=>{v(t)=="play"&&s(o)})}var u=N(f,2);{var d=s=>{ll(s,{decide_mode:r})};Ae(u,s=>{v(t)=="create"&&s(d)})}z(e,i)}ri(al,{target:document.getElementById("app")});
